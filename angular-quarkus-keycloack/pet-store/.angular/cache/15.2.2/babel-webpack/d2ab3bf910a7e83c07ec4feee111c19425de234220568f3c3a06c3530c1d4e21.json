{"ast":null,"code":"/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function (root, factory) {\n  if (typeof exports === 'object') {\n    if (typeof module === 'object') {\n      module.exports = factory(require(\"js-sha256\"), require(\"base64-js\"));\n    } else {\n      exports[\"keycloak\"] = factory(require(\"js-sha256\"), require(\"base64-js\"));\n    }\n  } else {\n    /**\n    * [js-sha256]{@link https://github.com/emn178/js-sha256}\n    *\n    * @version 0.9.0\n    * @author Chen, Yi-Cyuan [emn178@gmail.com]\n    * @copyright Chen, Yi-Cyuan 2014-2017\n    * @license MIT\n    */\n    !function () {\n      \"use strict\";\n\n      function t(t, i) {\n        i ? (d[0] = d[16] = d[1] = d[2] = d[3] = d[4] = d[5] = d[6] = d[7] = d[8] = d[9] = d[10] = d[11] = d[12] = d[13] = d[14] = d[15] = 0, this.blocks = d) : this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], t ? (this.h0 = 3238371032, this.h1 = 914150663, this.h2 = 812702999, this.h3 = 4144912697, this.h4 = 4290775857, this.h5 = 1750603025, this.h6 = 1694076839, this.h7 = 3204075428) : (this.h0 = 1779033703, this.h1 = 3144134277, this.h2 = 1013904242, this.h3 = 2773480762, this.h4 = 1359893119, this.h5 = 2600822924, this.h6 = 528734635, this.h7 = 1541459225), this.block = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0, this.is224 = t;\n      }\n      function i(i, r, s) {\n        var e,\n          n = typeof i;\n        if (\"string\" === n) {\n          var o,\n            a = [],\n            u = i.length,\n            c = 0;\n          for (e = 0; e < u; ++e) (o = i.charCodeAt(e)) < 128 ? a[c++] = o : o < 2048 ? (a[c++] = 192 | o >> 6, a[c++] = 128 | 63 & o) : o < 55296 || o >= 57344 ? (a[c++] = 224 | o >> 12, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o) : (o = 65536 + ((1023 & o) << 10 | 1023 & i.charCodeAt(++e)), a[c++] = 240 | o >> 18, a[c++] = 128 | o >> 12 & 63, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o);\n          i = a;\n        } else {\n          if (\"object\" !== n) throw new Error(h);\n          if (null === i) throw new Error(h);\n          if (f && i.constructor === ArrayBuffer) i = new Uint8Array(i);else if (!(Array.isArray(i) || f && ArrayBuffer.isView(i))) throw new Error(h);\n        }\n        i.length > 64 && (i = new t(r, !0).update(i).array());\n        var y = [],\n          p = [];\n        for (e = 0; e < 64; ++e) {\n          var l = i[e] || 0;\n          y[e] = 92 ^ l, p[e] = 54 ^ l;\n        }\n        t.call(this, r, s), this.update(p), this.oKeyPad = y, this.inner = !0, this.sharedMemory = s;\n      }\n      var h = \"input is invalid type\",\n        r = \"object\" == typeof window,\n        s = r ? window : {};\n      s.JS_SHA256_NO_WINDOW && (r = !1);\n      var e = !r && \"object\" == typeof self,\n        n = !s.JS_SHA256_NO_NODE_JS && \"object\" == typeof process && process.versions && process.versions.node;\n      n ? s = global : e && (s = self);\n      var o = !s.JS_SHA256_NO_COMMON_JS && \"object\" == typeof module && module.exports,\n        a = \"function\" == typeof define && define.amd,\n        f = !s.JS_SHA256_NO_ARRAY_BUFFER && \"undefined\" != typeof ArrayBuffer,\n        u = \"0123456789abcdef\".split(\"\"),\n        c = [-2147483648, 8388608, 32768, 128],\n        y = [24, 16, 8, 0],\n        p = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298],\n        l = [\"hex\", \"array\", \"digest\", \"arrayBuffer\"],\n        d = [];\n      !s.JS_SHA256_NO_NODE_JS && Array.isArray || (Array.isArray = function (t) {\n        return \"[object Array]\" === Object.prototype.toString.call(t);\n      }), !f || !s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView || (ArrayBuffer.isView = function (t) {\n        return \"object\" == typeof t && t.buffer && t.buffer.constructor === ArrayBuffer;\n      });\n      var A = function (i, h) {\n          return function (r) {\n            return new t(h, !0).update(r)[i]();\n          };\n        },\n        w = function (i) {\n          var h = A(\"hex\", i);\n          n && (h = b(h, i)), h.create = function () {\n            return new t(i);\n          }, h.update = function (t) {\n            return h.create().update(t);\n          };\n          for (var r = 0; r < l.length; ++r) {\n            var s = l[r];\n            h[s] = A(s, i);\n          }\n          return h;\n        },\n        b = function (t, i) {\n          var r = eval(\"require('crypto')\"),\n            s = eval(\"require('buffer').Buffer\"),\n            e = i ? \"sha224\" : \"sha256\",\n            n = function (i) {\n              if (\"string\" == typeof i) return r.createHash(e).update(i, \"utf8\").digest(\"hex\");\n              if (null === i || void 0 === i) throw new Error(h);\n              return i.constructor === ArrayBuffer && (i = new Uint8Array(i)), Array.isArray(i) || ArrayBuffer.isView(i) || i.constructor === s ? r.createHash(e).update(new s(i)).digest(\"hex\") : t(i);\n            };\n          return n;\n        },\n        v = function (t, h) {\n          return function (r, s) {\n            return new i(r, h, !0).update(s)[t]();\n          };\n        },\n        _ = function (t) {\n          var h = v(\"hex\", t);\n          h.create = function (h) {\n            return new i(h, t);\n          }, h.update = function (t, i) {\n            return h.create(t).update(i);\n          };\n          for (var r = 0; r < l.length; ++r) {\n            var s = l[r];\n            h[s] = v(s, t);\n          }\n          return h;\n        };\n      t.prototype.update = function (t) {\n        if (!this.finalized) {\n          var i,\n            r = typeof t;\n          if (\"string\" !== r) {\n            if (\"object\" !== r) throw new Error(h);\n            if (null === t) throw new Error(h);\n            if (f && t.constructor === ArrayBuffer) t = new Uint8Array(t);else if (!(Array.isArray(t) || f && ArrayBuffer.isView(t))) throw new Error(h);\n            i = !0;\n          }\n          for (var s, e, n = 0, o = t.length, a = this.blocks; n < o;) {\n            if (this.hashed && (this.hashed = !1, a[0] = this.block, a[16] = a[1] = a[2] = a[3] = a[4] = a[5] = a[6] = a[7] = a[8] = a[9] = a[10] = a[11] = a[12] = a[13] = a[14] = a[15] = 0), i) for (e = this.start; n < o && e < 64; ++n) a[e >> 2] |= t[n] << y[3 & e++];else for (e = this.start; n < o && e < 64; ++n) (s = t.charCodeAt(n)) < 128 ? a[e >> 2] |= s << y[3 & e++] : s < 2048 ? (a[e >> 2] |= (192 | s >> 6) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : s < 55296 || s >= 57344 ? (a[e >> 2] |= (224 | s >> 12) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : (s = 65536 + ((1023 & s) << 10 | 1023 & t.charCodeAt(++n)), a[e >> 2] |= (240 | s >> 18) << y[3 & e++], a[e >> 2] |= (128 | s >> 12 & 63) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]);\n            this.lastByteIndex = e, this.bytes += e - this.start, e >= 64 ? (this.block = a[16], this.start = e - 64, this.hash(), this.hashed = !0) : this.start = e;\n          }\n          return this.bytes > 4294967295 && (this.hBytes += this.bytes / 4294967296 << 0, this.bytes = this.bytes % 4294967296), this;\n        }\n      }, t.prototype.finalize = function () {\n        if (!this.finalized) {\n          this.finalized = !0;\n          var t = this.blocks,\n            i = this.lastByteIndex;\n          t[16] = this.block, t[i >> 2] |= c[3 & i], this.block = t[16], i >= 56 && (this.hashed || this.hash(), t[0] = this.block, t[16] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = t[10] = t[11] = t[12] = t[13] = t[14] = t[15] = 0), t[14] = this.hBytes << 3 | this.bytes >>> 29, t[15] = this.bytes << 3, this.hash();\n        }\n      }, t.prototype.hash = function () {\n        var t,\n          i,\n          h,\n          r,\n          s,\n          e,\n          n,\n          o,\n          a,\n          f = this.h0,\n          u = this.h1,\n          c = this.h2,\n          y = this.h3,\n          l = this.h4,\n          d = this.h5,\n          A = this.h6,\n          w = this.h7,\n          b = this.blocks;\n        for (t = 16; t < 64; ++t) i = ((s = b[t - 15]) >>> 7 | s << 25) ^ (s >>> 18 | s << 14) ^ s >>> 3, h = ((s = b[t - 2]) >>> 17 | s << 15) ^ (s >>> 19 | s << 13) ^ s >>> 10, b[t] = b[t - 16] + i + b[t - 7] + h << 0;\n        for (a = u & c, t = 0; t < 64; t += 4) this.first ? (this.is224 ? (e = 300032, w = (s = b[0] - 1413257819) - 150054599 << 0, y = s + 24177077 << 0) : (e = 704751109, w = (s = b[0] - 210244248) - 1521486534 << 0, y = s + 143694565 << 0), this.first = !1) : (i = (f >>> 2 | f << 30) ^ (f >>> 13 | f << 19) ^ (f >>> 22 | f << 10), r = (e = f & u) ^ f & c ^ a, w = y + (s = w + (h = (l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) + (l & d ^ ~l & A) + p[t] + b[t]) << 0, y = s + (i + r) << 0), i = (y >>> 2 | y << 30) ^ (y >>> 13 | y << 19) ^ (y >>> 22 | y << 10), r = (n = y & f) ^ y & u ^ e, A = c + (s = A + (h = (w >>> 6 | w << 26) ^ (w >>> 11 | w << 21) ^ (w >>> 25 | w << 7)) + (w & l ^ ~w & d) + p[t + 1] + b[t + 1]) << 0, i = ((c = s + (i + r) << 0) >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10), r = (o = c & y) ^ c & f ^ n, d = u + (s = d + (h = (A >>> 6 | A << 26) ^ (A >>> 11 | A << 21) ^ (A >>> 25 | A << 7)) + (A & w ^ ~A & l) + p[t + 2] + b[t + 2]) << 0, i = ((u = s + (i + r) << 0) >>> 2 | u << 30) ^ (u >>> 13 | u << 19) ^ (u >>> 22 | u << 10), r = (a = u & c) ^ u & y ^ o, l = f + (s = l + (h = (d >>> 6 | d << 26) ^ (d >>> 11 | d << 21) ^ (d >>> 25 | d << 7)) + (d & A ^ ~d & w) + p[t + 3] + b[t + 3]) << 0, f = s + (i + r) << 0;\n        this.h0 = this.h0 + f << 0, this.h1 = this.h1 + u << 0, this.h2 = this.h2 + c << 0, this.h3 = this.h3 + y << 0, this.h4 = this.h4 + l << 0, this.h5 = this.h5 + d << 0, this.h6 = this.h6 + A << 0, this.h7 = this.h7 + w << 0;\n      }, t.prototype.hex = function () {\n        this.finalize();\n        var t = this.h0,\n          i = this.h1,\n          h = this.h2,\n          r = this.h3,\n          s = this.h4,\n          e = this.h5,\n          n = this.h6,\n          o = this.h7,\n          a = u[t >> 28 & 15] + u[t >> 24 & 15] + u[t >> 20 & 15] + u[t >> 16 & 15] + u[t >> 12 & 15] + u[t >> 8 & 15] + u[t >> 4 & 15] + u[15 & t] + u[i >> 28 & 15] + u[i >> 24 & 15] + u[i >> 20 & 15] + u[i >> 16 & 15] + u[i >> 12 & 15] + u[i >> 8 & 15] + u[i >> 4 & 15] + u[15 & i] + u[h >> 28 & 15] + u[h >> 24 & 15] + u[h >> 20 & 15] + u[h >> 16 & 15] + u[h >> 12 & 15] + u[h >> 8 & 15] + u[h >> 4 & 15] + u[15 & h] + u[r >> 28 & 15] + u[r >> 24 & 15] + u[r >> 20 & 15] + u[r >> 16 & 15] + u[r >> 12 & 15] + u[r >> 8 & 15] + u[r >> 4 & 15] + u[15 & r] + u[s >> 28 & 15] + u[s >> 24 & 15] + u[s >> 20 & 15] + u[s >> 16 & 15] + u[s >> 12 & 15] + u[s >> 8 & 15] + u[s >> 4 & 15] + u[15 & s] + u[e >> 28 & 15] + u[e >> 24 & 15] + u[e >> 20 & 15] + u[e >> 16 & 15] + u[e >> 12 & 15] + u[e >> 8 & 15] + u[e >> 4 & 15] + u[15 & e] + u[n >> 28 & 15] + u[n >> 24 & 15] + u[n >> 20 & 15] + u[n >> 16 & 15] + u[n >> 12 & 15] + u[n >> 8 & 15] + u[n >> 4 & 15] + u[15 & n];\n        return this.is224 || (a += u[o >> 28 & 15] + u[o >> 24 & 15] + u[o >> 20 & 15] + u[o >> 16 & 15] + u[o >> 12 & 15] + u[o >> 8 & 15] + u[o >> 4 & 15] + u[15 & o]), a;\n      }, t.prototype.toString = t.prototype.hex, t.prototype.digest = function () {\n        this.finalize();\n        var t = this.h0,\n          i = this.h1,\n          h = this.h2,\n          r = this.h3,\n          s = this.h4,\n          e = this.h5,\n          n = this.h6,\n          o = this.h7,\n          a = [t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, i >> 24 & 255, i >> 16 & 255, i >> 8 & 255, 255 & i, h >> 24 & 255, h >> 16 & 255, h >> 8 & 255, 255 & h, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, s >> 24 & 255, s >> 16 & 255, s >> 8 & 255, 255 & s, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, 255 & n];\n        return this.is224 || a.push(o >> 24 & 255, o >> 16 & 255, o >> 8 & 255, 255 & o), a;\n      }, t.prototype.array = t.prototype.digest, t.prototype.arrayBuffer = function () {\n        this.finalize();\n        var t = new ArrayBuffer(this.is224 ? 28 : 32),\n          i = new DataView(t);\n        return i.setUint32(0, this.h0), i.setUint32(4, this.h1), i.setUint32(8, this.h2), i.setUint32(12, this.h3), i.setUint32(16, this.h4), i.setUint32(20, this.h5), i.setUint32(24, this.h6), this.is224 || i.setUint32(28, this.h7), t;\n      }, i.prototype = new t(), i.prototype.finalize = function () {\n        if (t.prototype.finalize.call(this), this.inner) {\n          this.inner = !1;\n          var i = this.array();\n          t.call(this, this.is224, this.sharedMemory), this.update(this.oKeyPad), this.update(i), t.prototype.finalize.call(this);\n        }\n      };\n      var B = w();\n      B.sha256 = B, B.sha224 = w(!0), B.sha256.hmac = _(), B.sha224.hmac = _(!0), o ? module.exports = B : (s.sha256 = B.sha256, s.sha224 = B.sha224, a && define(function () {\n        return B;\n      }));\n    }();\n\n    /**\n     * [base64-js]{@link https://github.com/beatgammit/base64-js}\n     *\n     * @version v1.3.0\n     * @author Kirill, Fomichev\n     * @copyright Kirill, Fomichev 2014\n     * @license MIT\n     */\n    (function (r) {\n      if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n        module.exports = r();\n      } else if (typeof define === \"function\" && define.amd) {\n        define([], r);\n      } else {\n        var e;\n        if (typeof window !== \"undefined\") {\n          e = window;\n        } else if (typeof global !== \"undefined\") {\n          e = global;\n        } else if (typeof self !== \"undefined\") {\n          e = self;\n        } else {\n          e = this;\n        }\n        e.base64js = r();\n      }\n    })(function () {\n      var r, e, n;\n      return function () {\n        function r(e, n, t) {\n          function o(f, i) {\n            if (!n[f]) {\n              if (!e[f]) {\n                var u = \"function\" == typeof require && require;\n                if (!i && u) return u(f, !0);\n                if (a) return a(f, !0);\n                var v = new Error(\"Cannot find module '\" + f + \"'\");\n                throw v.code = \"MODULE_NOT_FOUND\", v;\n              }\n              var d = n[f] = {\n                exports: {}\n              };\n              e[f][0].call(d.exports, function (r) {\n                var n = e[f][1][r];\n                return o(n || r);\n              }, d, d.exports, r, e, n, t);\n            }\n            return n[f].exports;\n          }\n          for (var a = \"function\" == typeof require && require, f = 0; f < t.length; f++) o(t[f]);\n          return o;\n        }\n        return r;\n      }()({\n        \"/\": [function (r, e, n) {\n          \"use strict\";\n\n          n.byteLength = d;\n          n.toByteArray = h;\n          n.fromByteArray = p;\n          var t = [];\n          var o = [];\n          var a = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array;\n          var f = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n          for (var i = 0, u = f.length; i < u; ++i) {\n            t[i] = f[i];\n            o[f.charCodeAt(i)] = i;\n          }\n          o[\"-\".charCodeAt(0)] = 62;\n          o[\"_\".charCodeAt(0)] = 63;\n          function v(r) {\n            var e = r.length;\n            if (e % 4 > 0) {\n              throw new Error(\"Invalid string. Length must be a multiple of 4\");\n            }\n            var n = r.indexOf(\"=\");\n            if (n === -1) n = e;\n            var t = n === e ? 0 : 4 - n % 4;\n            return [n, t];\n          }\n          function d(r) {\n            var e = v(r);\n            var n = e[0];\n            var t = e[1];\n            return (n + t) * 3 / 4 - t;\n          }\n          function c(r, e, n) {\n            return (e + n) * 3 / 4 - n;\n          }\n          function h(r) {\n            var e;\n            var n = v(r);\n            var t = n[0];\n            var f = n[1];\n            var i = new a(c(r, t, f));\n            var u = 0;\n            var d = f > 0 ? t - 4 : t;\n            for (var h = 0; h < d; h += 4) {\n              e = o[r.charCodeAt(h)] << 18 | o[r.charCodeAt(h + 1)] << 12 | o[r.charCodeAt(h + 2)] << 6 | o[r.charCodeAt(h + 3)];\n              i[u++] = e >> 16 & 255;\n              i[u++] = e >> 8 & 255;\n              i[u++] = e & 255;\n            }\n            if (f === 2) {\n              e = o[r.charCodeAt(h)] << 2 | o[r.charCodeAt(h + 1)] >> 4;\n              i[u++] = e & 255;\n            }\n            if (f === 1) {\n              e = o[r.charCodeAt(h)] << 10 | o[r.charCodeAt(h + 1)] << 4 | o[r.charCodeAt(h + 2)] >> 2;\n              i[u++] = e >> 8 & 255;\n              i[u++] = e & 255;\n            }\n            return i;\n          }\n          function s(r) {\n            return t[r >> 18 & 63] + t[r >> 12 & 63] + t[r >> 6 & 63] + t[r & 63];\n          }\n          function l(r, e, n) {\n            var t;\n            var o = [];\n            for (var a = e; a < n; a += 3) {\n              t = (r[a] << 16 & 16711680) + (r[a + 1] << 8 & 65280) + (r[a + 2] & 255);\n              o.push(s(t));\n            }\n            return o.join(\"\");\n          }\n          function p(r) {\n            var e;\n            var n = r.length;\n            var o = n % 3;\n            var a = [];\n            var f = 16383;\n            for (var i = 0, u = n - o; i < u; i += f) {\n              a.push(l(r, i, i + f > u ? u : i + f));\n            }\n            if (o === 1) {\n              e = r[n - 1];\n              a.push(t[e >> 2] + t[e << 4 & 63] + \"==\");\n            } else if (o === 2) {\n              e = (r[n - 2] << 8) + r[n - 1];\n              a.push(t[e >> 10] + t[e >> 4 & 63] + t[e << 2 & 63] + \"=\");\n            }\n            return a.join(\"\");\n          }\n        }, {}]\n      }, {}, [])(\"/\");\n    });\n\n    /**\n     * [promise-polyfill]{@link https://github.com/taylorhakes/promise-polyfill}\n     *\n     * @version v8.1.3\n     * @author Hakes, Taylor\n     * @copyright Hakes, Taylor 2014\n     * @license MIT\n     */\n    !function (e, n) {\n      \"object\" == typeof exports && \"undefined\" != typeof module ? n() : \"function\" == typeof define && define.amd ? define(n) : n();\n    }(0, function () {\n      \"use strict\";\n\n      function e(e) {\n        var n = this.constructor;\n        return this.then(function (t) {\n          return n.resolve(e()).then(function () {\n            return t;\n          });\n        }, function (t) {\n          return n.resolve(e()).then(function () {\n            return n.reject(t);\n          });\n        });\n      }\n      function n(e) {\n        return !(!e || \"undefined\" == typeof e.length);\n      }\n      function t() {}\n      function o(e) {\n        if (!(this instanceof o)) throw new TypeError(\"Promises must be constructed via new\");\n        if (\"function\" != typeof e) throw new TypeError(\"not a function\");\n        this._state = 0, this._handled = !1, this._value = undefined, this._deferreds = [], c(e, this);\n      }\n      function r(e, n) {\n        for (; 3 === e._state;) e = e._value;\n        0 !== e._state ? (e._handled = !0, o._immediateFn(function () {\n          var t = 1 === e._state ? n.onFulfilled : n.onRejected;\n          if (null !== t) {\n            var o;\n            try {\n              o = t(e._value);\n            } catch (r) {\n              return void f(n.promise, r);\n            }\n            i(n.promise, o);\n          } else (1 === e._state ? i : f)(n.promise, e._value);\n        })) : e._deferreds.push(n);\n      }\n      function i(e, n) {\n        try {\n          if (n === e) throw new TypeError(\"A promise cannot be resolved with itself.\");\n          if (n && (\"object\" == typeof n || \"function\" == typeof n)) {\n            var t = n.then;\n            if (n instanceof o) return e._state = 3, e._value = n, void u(e);\n            if (\"function\" == typeof t) return void c(function (e, n) {\n              return function () {\n                e.apply(n, arguments);\n              };\n            }(t, n), e);\n          }\n          e._state = 1, e._value = n, u(e);\n        } catch (r) {\n          f(e, r);\n        }\n      }\n      function f(e, n) {\n        e._state = 2, e._value = n, u(e);\n      }\n      function u(e) {\n        2 === e._state && 0 === e._deferreds.length && o._immediateFn(function () {\n          e._handled || o._unhandledRejectionFn(e._value);\n        });\n        for (var n = 0, t = e._deferreds.length; t > n; n++) r(e, e._deferreds[n]);\n        e._deferreds = null;\n      }\n      function c(e, n) {\n        var t = !1;\n        try {\n          e(function (e) {\n            t || (t = !0, i(n, e));\n          }, function (e) {\n            t || (t = !0, f(n, e));\n          });\n        } catch (o) {\n          if (t) return;\n          t = !0, f(n, o);\n        }\n      }\n      var a = setTimeout;\n      o.prototype[\"catch\"] = function (e) {\n        return this.then(null, e);\n      }, o.prototype.then = function (e, n) {\n        var o = new this.constructor(t);\n        return r(this, new function (e, n, t) {\n          this.onFulfilled = \"function\" == typeof e ? e : null, this.onRejected = \"function\" == typeof n ? n : null, this.promise = t;\n        }(e, n, o)), o;\n      }, o.prototype[\"finally\"] = e, o.all = function (e) {\n        return new o(function (t, o) {\n          function r(e, n) {\n            try {\n              if (n && (\"object\" == typeof n || \"function\" == typeof n)) {\n                var u = n.then;\n                if (\"function\" == typeof u) return void u.call(n, function (n) {\n                  r(e, n);\n                }, o);\n              }\n              i[e] = n, 0 == --f && t(i);\n            } catch (c) {\n              o(c);\n            }\n          }\n          if (!n(e)) return o(new TypeError(\"Promise.all accepts an array\"));\n          var i = Array.prototype.slice.call(e);\n          if (0 === i.length) return t([]);\n          for (var f = i.length, u = 0; i.length > u; u++) r(u, i[u]);\n        });\n      }, o.resolve = function (e) {\n        return e && \"object\" == typeof e && e.constructor === o ? e : new o(function (n) {\n          n(e);\n        });\n      }, o.reject = function (e) {\n        return new o(function (n, t) {\n          t(e);\n        });\n      }, o.race = function (e) {\n        return new o(function (t, r) {\n          if (!n(e)) return r(new TypeError(\"Promise.race accepts an array\"));\n          for (var i = 0, f = e.length; f > i; i++) o.resolve(e[i]).then(t, r);\n        });\n      }, o._immediateFn = \"function\" == typeof setImmediate && function (e) {\n        setImmediate(e);\n      } || function (e) {\n        a(e, 0);\n      }, o._unhandledRejectionFn = function (e) {\n        void 0 !== console && console && console.warn(\"Possible Unhandled Promise Rejection:\", e);\n      };\n      var l = function () {\n        if (\"undefined\" != typeof self) return self;\n        if (\"undefined\" != typeof window) return window;\n        if (\"undefined\" != typeof global) return global;\n        throw Error(\"unable to locate global object\");\n      }();\n      \"Promise\" in l ? l.Promise.prototype[\"finally\"] || (l.Promise.prototype[\"finally\"] = e) : l.Promise = o;\n    });\n    var Keycloak = factory(root[\"sha256\"], root[\"base64js\"]);\n    root[\"Keycloak\"] = Keycloak;\n    if (typeof define === \"function\" && define.amd) {\n      define(\"keycloak\", [], function () {\n        return Keycloak;\n      });\n    }\n  }\n})(window, function (sha256_imported, base64js_imported) {\n  if (typeof Promise === 'undefined') {\n    throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n  }\n  var loggedPromiseDeprecation = false;\n  function logPromiseDeprecation() {\n    if (!loggedPromiseDeprecation) {\n      loggedPromiseDeprecation = true;\n      console.warn('[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.');\n    }\n  }\n  function Keycloak(config) {\n    if (!(this instanceof Keycloak)) {\n      return new Keycloak(config);\n    }\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n    var loginIframe = {\n      enable: true,\n      callbackList: [],\n      interval: 5\n    };\n    var scripts = document.getElementsByTagName('script');\n    for (var i = 0; i < scripts.length; i++) {\n      if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n        kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n      }\n    }\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n    kc.init = function (initOptions) {\n      kc.authenticated = false;\n      callbackStorage = createCallbackStorage();\n      var adapters = ['default', 'cordova', 'cordova-native'];\n      if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n        adapter = loadAdapter(initOptions.adapter);\n      } else if (initOptions && typeof initOptions.adapter === \"object\") {\n        adapter = initOptions.adapter;\n      } else {\n        if (window.Cordova || window.cordova) {\n          adapter = loadAdapter('cordova');\n        } else {\n          adapter = loadAdapter();\n        }\n      }\n      if (initOptions) {\n        if (typeof initOptions.useNonce !== 'undefined') {\n          useNonce = initOptions.useNonce;\n        }\n        if (typeof initOptions.checkLoginIframe !== 'undefined') {\n          loginIframe.enable = initOptions.checkLoginIframe;\n        }\n        if (initOptions.checkLoginIframeInterval) {\n          loginIframe.interval = initOptions.checkLoginIframeInterval;\n        }\n        if (initOptions.onLoad === 'login-required') {\n          kc.loginRequired = true;\n        }\n        if (initOptions.responseMode) {\n          if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n            kc.responseMode = initOptions.responseMode;\n          } else {\n            throw 'Invalid value for responseMode';\n          }\n        }\n        if (initOptions.flow) {\n          switch (initOptions.flow) {\n            case 'standard':\n              kc.responseType = 'code';\n              break;\n            case 'implicit':\n              kc.responseType = 'id_token token';\n              break;\n            case 'hybrid':\n              kc.responseType = 'code id_token token';\n              break;\n            default:\n              throw 'Invalid value for flow';\n          }\n          kc.flow = initOptions.flow;\n        }\n        if (initOptions.timeSkew != null) {\n          kc.timeSkew = initOptions.timeSkew;\n        }\n        if (initOptions.redirectUri) {\n          kc.redirectUri = initOptions.redirectUri;\n        }\n        if (initOptions.silentCheckSsoRedirectUri) {\n          kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n        }\n        if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n          kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n        } else {\n          kc.silentCheckSsoFallback = true;\n        }\n        if (initOptions.pkceMethod) {\n          if (initOptions.pkceMethod !== \"S256\") {\n            throw 'Invalid value for pkceMethod';\n          }\n          kc.pkceMethod = initOptions.pkceMethod;\n        }\n        if (typeof initOptions.enableLogging === 'boolean') {\n          kc.enableLogging = initOptions.enableLogging;\n        } else {\n          kc.enableLogging = false;\n        }\n        if (typeof initOptions.scope === 'string') {\n          kc.scope = initOptions.scope;\n        }\n      }\n      if (!kc.responseMode) {\n        kc.responseMode = 'fragment';\n      }\n      if (!kc.responseType) {\n        kc.responseType = 'code';\n        kc.flow = 'standard';\n      }\n      var promise = createPromise();\n      var initPromise = createPromise();\n      initPromise.promise.then(function () {\n        kc.onReady && kc.onReady(kc.authenticated);\n        promise.setSuccess(kc.authenticated);\n      }).catch(function (errorData) {\n        promise.setError(errorData);\n      });\n      var configPromise = loadConfig(config);\n      function onLoad() {\n        var doLogin = function (prompt) {\n          if (!prompt) {\n            options.prompt = 'none';\n          }\n          kc.login(options).then(function () {\n            initPromise.setSuccess();\n          }).catch(function () {\n            initPromise.setError();\n          });\n        };\n        var checkSsoSilently = function () {\n          var ifrm = document.createElement(\"iframe\");\n          var src = kc.createLoginUrl({\n            prompt: 'none',\n            redirectUri: kc.silentCheckSsoRedirectUri\n          });\n          ifrm.setAttribute(\"src\", src);\n          ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n          ifrm.style.display = \"none\";\n          document.body.appendChild(ifrm);\n          var messageCallback = function (event) {\n            if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n              return;\n            }\n            var oauth = parseCallback(event.data);\n            processCallback(oauth, initPromise);\n            document.body.removeChild(ifrm);\n            window.removeEventListener(\"message\", messageCallback);\n          };\n          window.addEventListener(\"message\", messageCallback);\n        };\n        var options = {};\n        switch (initOptions.onLoad) {\n          case 'check-sso':\n            if (loginIframe.enable) {\n              setupCheckLoginIframe().then(function () {\n                checkLoginIframe().then(function (unchanged) {\n                  if (!unchanged) {\n                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                  } else {\n                    initPromise.setSuccess();\n                  }\n                }).catch(function () {\n                  initPromise.setError();\n                });\n              });\n            } else {\n              kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n            }\n            break;\n          case 'login-required':\n            doLogin(true);\n            break;\n          default:\n            throw 'Invalid value for onLoad';\n        }\n      }\n      function processInit() {\n        var callback = parseCallback(window.location.href);\n        if (callback) {\n          window.history.replaceState(window.history.state, null, callback.newUrl);\n        }\n        if (callback && callback.valid) {\n          return setupCheckLoginIframe().then(function () {\n            processCallback(callback, initPromise);\n          }).catch(function (e) {\n            initPromise.setError();\n          });\n        } else if (initOptions) {\n          if (initOptions.token && initOptions.refreshToken) {\n            setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n            if (loginIframe.enable) {\n              setupCheckLoginIframe().then(function () {\n                checkLoginIframe().then(function (unchanged) {\n                  if (unchanged) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    initPromise.setSuccess();\n                    scheduleCheckIframe();\n                  } else {\n                    initPromise.setSuccess();\n                  }\n                }).catch(function () {\n                  initPromise.setError();\n                });\n              });\n            } else {\n              kc.updateToken(-1).then(function () {\n                kc.onAuthSuccess && kc.onAuthSuccess();\n                initPromise.setSuccess();\n              }).catch(function () {\n                kc.onAuthError && kc.onAuthError();\n                if (initOptions.onLoad) {\n                  onLoad();\n                } else {\n                  initPromise.setError();\n                }\n              });\n            }\n          } else if (initOptions.onLoad) {\n            onLoad();\n          } else {\n            initPromise.setSuccess();\n          }\n        } else {\n          initPromise.setSuccess();\n        }\n      }\n      function domReady() {\n        var promise = createPromise();\n        var checkReadyState = function () {\n          if (document.readyState === 'interactive' || document.readyState === 'complete') {\n            document.removeEventListener('readystatechange', checkReadyState);\n            promise.setSuccess();\n          }\n        };\n        document.addEventListener('readystatechange', checkReadyState);\n        checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n        return promise.promise;\n      }\n      configPromise.then(function () {\n        domReady().then(check3pCookiesSupported).then(processInit).catch(function () {\n          promise.setError();\n        });\n      });\n      configPromise.catch(function () {\n        promise.setError();\n      });\n      return promise.promise;\n    };\n    kc.login = function (options) {\n      return adapter.login(options);\n    };\n    function generateRandomData(len) {\n      // use web crypto APIs if possible\n      var array = null;\n      var crypto = window.crypto || window.msCrypto;\n      if (crypto && crypto.getRandomValues && window.Uint8Array) {\n        array = new Uint8Array(len);\n        crypto.getRandomValues(array);\n        return array;\n      }\n\n      // fallback to Math random\n      array = new Array(len);\n      for (var j = 0; j < array.length; j++) {\n        array[j] = Math.floor(256 * Math.random());\n      }\n      return array;\n    }\n    function generateCodeVerifier(len) {\n      return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n    function generateRandomString(len, alphabet) {\n      var randomData = generateRandomData(len);\n      var chars = new Array(len);\n      for (var i = 0; i < len; i++) {\n        chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n      }\n      return String.fromCharCode.apply(null, chars);\n    }\n    function generatePkceChallenge(pkceMethod, codeVerifier) {\n      switch (pkceMethod) {\n        // The use of the \"plain\" method is considered insecure and therefore not supported.\n        case \"S256\":\n          // hash codeVerifier, then encode as url-safe base64 without padding\n          var hashBytes = new Uint8Array(sha256_imported.arrayBuffer(codeVerifier));\n          var encodedHash = base64js_imported.fromByteArray(hashBytes).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/\\=/g, '');\n          return encodedHash;\n        default:\n          throw 'Invalid value for pkceMethod';\n      }\n    }\n    kc.createLoginUrl = function (options) {\n      var state = createUUID();\n      var nonce = createUUID();\n      var redirectUri = adapter.redirectUri(options);\n      var callbackState = {\n        state: state,\n        nonce: nonce,\n        redirectUri: encodeURIComponent(redirectUri)\n      };\n      if (options && options.prompt) {\n        callbackState.prompt = options.prompt;\n      }\n      var baseUrl;\n      if (options && options.action == 'register') {\n        baseUrl = kc.endpoints.register();\n      } else {\n        baseUrl = kc.endpoints.authorize();\n      }\n      var scope = options && options.scope || kc.scope;\n      if (!scope) {\n        // if scope is not set, default to \"openid\"\n        scope = \"openid\";\n      } else if (scope.indexOf(\"openid\") === -1) {\n        // if openid scope is missing, prefix the given scopes with it\n        scope = \"openid \" + scope;\n      }\n      var url = baseUrl + '?client_id=' + encodeURIComponent(kc.clientId) + '&redirect_uri=' + encodeURIComponent(redirectUri) + '&state=' + encodeURIComponent(state) + '&response_mode=' + encodeURIComponent(kc.responseMode) + '&response_type=' + encodeURIComponent(kc.responseType) + '&scope=' + encodeURIComponent(scope);\n      if (useNonce) {\n        url = url + '&nonce=' + encodeURIComponent(nonce);\n      }\n      if (options && options.prompt) {\n        url += '&prompt=' + encodeURIComponent(options.prompt);\n      }\n      if (options && options.maxAge) {\n        url += '&max_age=' + encodeURIComponent(options.maxAge);\n      }\n      if (options && options.loginHint) {\n        url += '&login_hint=' + encodeURIComponent(options.loginHint);\n      }\n      if (options && options.idpHint) {\n        url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n      }\n      if (options && options.action && options.action != 'register') {\n        url += '&kc_action=' + encodeURIComponent(options.action);\n      }\n      if (options && options.locale) {\n        url += '&ui_locales=' + encodeURIComponent(options.locale);\n      }\n      if (kc.pkceMethod) {\n        var codeVerifier = generateCodeVerifier(96);\n        callbackState.pkceCodeVerifier = codeVerifier;\n        var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n        url += '&code_challenge=' + pkceChallenge;\n        url += '&code_challenge_method=' + kc.pkceMethod;\n      }\n      callbackStorage.add(callbackState);\n      return url;\n    };\n    kc.logout = function (options) {\n      return adapter.logout(options);\n    };\n    kc.createLogoutUrl = function (options) {\n      var url = kc.endpoints.logout() + '?redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n      return url;\n    };\n    kc.register = function (options) {\n      return adapter.register(options);\n    };\n    kc.createRegisterUrl = function (options) {\n      if (!options) {\n        options = {};\n      }\n      options.action = 'register';\n      return kc.createLoginUrl(options);\n    };\n    kc.createAccountUrl = function (options) {\n      var realm = getRealmUrl();\n      var url = undefined;\n      if (typeof realm !== 'undefined') {\n        url = realm + '/account' + '?referrer=' + encodeURIComponent(kc.clientId) + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n      }\n      return url;\n    };\n    kc.accountManagement = function () {\n      return adapter.accountManagement();\n    };\n    kc.hasRealmRole = function (role) {\n      var access = kc.realmAccess;\n      return !!access && access.roles.indexOf(role) >= 0;\n    };\n    kc.hasResourceRole = function (role, resource) {\n      if (!kc.resourceAccess) {\n        return false;\n      }\n      var access = kc.resourceAccess[resource || kc.clientId];\n      return !!access && access.roles.indexOf(role) >= 0;\n    };\n    kc.loadUserProfile = function () {\n      var url = getRealmUrl() + '/account';\n      var req = new XMLHttpRequest();\n      req.open('GET', url, true);\n      req.setRequestHeader('Accept', 'application/json');\n      req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n      var promise = createPromise();\n      req.onreadystatechange = function () {\n        if (req.readyState == 4) {\n          if (req.status == 200) {\n            kc.profile = JSON.parse(req.responseText);\n            promise.setSuccess(kc.profile);\n          } else {\n            promise.setError();\n          }\n        }\n      };\n      req.send();\n      return promise.promise;\n    };\n    kc.loadUserInfo = function () {\n      var url = kc.endpoints.userinfo();\n      var req = new XMLHttpRequest();\n      req.open('GET', url, true);\n      req.setRequestHeader('Accept', 'application/json');\n      req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n      var promise = createPromise();\n      req.onreadystatechange = function () {\n        if (req.readyState == 4) {\n          if (req.status == 200) {\n            kc.userInfo = JSON.parse(req.responseText);\n            promise.setSuccess(kc.userInfo);\n          } else {\n            promise.setError();\n          }\n        }\n      };\n      req.send();\n      return promise.promise;\n    };\n    kc.isTokenExpired = function (minValidity) {\n      if (!kc.tokenParsed || !kc.refreshToken && kc.flow != 'implicit') {\n        throw 'Not authenticated';\n      }\n      if (kc.timeSkew == null) {\n        logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n        return true;\n      }\n      var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n      if (minValidity) {\n        if (isNaN(minValidity)) {\n          throw 'Invalid minValidity';\n        }\n        expiresIn -= minValidity;\n      }\n      return expiresIn < 0;\n    };\n    kc.updateToken = function (minValidity) {\n      var promise = createPromise();\n      if (!kc.refreshToken) {\n        promise.setError();\n        return promise.promise;\n      }\n      minValidity = minValidity || 5;\n      var exec = function () {\n        var refreshToken = false;\n        if (minValidity == -1) {\n          refreshToken = true;\n          logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n        } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n          refreshToken = true;\n          logInfo('[KEYCLOAK] Refreshing token: token expired');\n        }\n        if (!refreshToken) {\n          promise.setSuccess(false);\n        } else {\n          var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n          var url = kc.endpoints.token();\n          refreshQueue.push(promise);\n          if (refreshQueue.length == 1) {\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n            req.withCredentials = true;\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            var timeLocal = new Date().getTime();\n            req.onreadystatechange = function () {\n              if (req.readyState == 4) {\n                if (req.status == 200) {\n                  logInfo('[KEYCLOAK] Token refreshed');\n                  timeLocal = (timeLocal + new Date().getTime()) / 2;\n                  var tokenResponse = JSON.parse(req.responseText);\n                  setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n                  kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                  for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                    p.setSuccess(true);\n                  }\n                } else {\n                  logWarn('[KEYCLOAK] Failed to refresh token');\n                  if (req.status == 400) {\n                    kc.clearToken();\n                  }\n                  kc.onAuthRefreshError && kc.onAuthRefreshError();\n                  for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                    p.setError(true);\n                  }\n                }\n              }\n            };\n            req.send(params);\n          }\n        }\n      };\n      if (loginIframe.enable) {\n        var iframePromise = checkLoginIframe();\n        iframePromise.then(function () {\n          exec();\n        }).catch(function () {\n          promise.setError();\n        });\n      } else {\n        exec();\n      }\n      return promise.promise;\n    };\n    kc.clearToken = function () {\n      if (kc.token) {\n        setToken(null, null, null);\n        kc.onAuthLogout && kc.onAuthLogout();\n        if (kc.loginRequired) {\n          kc.login();\n        }\n      }\n    };\n    function getRealmUrl() {\n      if (typeof kc.authServerUrl !== 'undefined') {\n        if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n          return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n        } else {\n          return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n        }\n      } else {\n        return undefined;\n      }\n    }\n    function getOrigin() {\n      if (!window.location.origin) {\n        return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port : '');\n      } else {\n        return window.location.origin;\n      }\n    }\n    function processCallback(oauth, promise) {\n      var code = oauth.code;\n      var error = oauth.error;\n      var prompt = oauth.prompt;\n      var timeLocal = new Date().getTime();\n      if (oauth['kc_action_status']) {\n        kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n      }\n      if (error) {\n        if (prompt != 'none') {\n          var errorData = {\n            error: error,\n            error_description: oauth.error_description\n          };\n          kc.onAuthError && kc.onAuthError(errorData);\n          promise && promise.setError(errorData);\n        } else {\n          promise && promise.setSuccess();\n        }\n        return;\n      } else if (kc.flow != 'standard' && (oauth.access_token || oauth.id_token)) {\n        authSuccess(oauth.access_token, null, oauth.id_token, true);\n      }\n      if (kc.flow != 'implicit' && code) {\n        var params = 'code=' + code + '&grant_type=authorization_code';\n        var url = kc.endpoints.token();\n        var req = new XMLHttpRequest();\n        req.open('POST', url, true);\n        req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        params += '&client_id=' + encodeURIComponent(kc.clientId);\n        params += '&redirect_uri=' + oauth.redirectUri;\n        if (oauth.pkceCodeVerifier) {\n          params += '&code_verifier=' + oauth.pkceCodeVerifier;\n        }\n        req.withCredentials = true;\n        req.onreadystatechange = function () {\n          if (req.readyState == 4) {\n            if (req.status == 200) {\n              var tokenResponse = JSON.parse(req.responseText);\n              authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n              scheduleCheckIframe();\n            } else {\n              kc.onAuthError && kc.onAuthError();\n              promise && promise.setError();\n            }\n          }\n        };\n        req.send(params);\n      }\n      function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n        timeLocal = (timeLocal + new Date().getTime()) / 2;\n        setToken(accessToken, refreshToken, idToken, timeLocal);\n        if (useNonce && (kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce || kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce || kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce)) {\n          logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n          kc.clearToken();\n          promise && promise.setError();\n        } else {\n          if (fulfillPromise) {\n            kc.onAuthSuccess && kc.onAuthSuccess();\n            promise && promise.setSuccess();\n          }\n        }\n      }\n    }\n    function loadConfig(url) {\n      var promise = createPromise();\n      var configUrl;\n      if (!config) {\n        configUrl = 'keycloak.json';\n      } else if (typeof config === 'string') {\n        configUrl = config;\n      }\n      function setupOidcEndoints(oidcConfiguration) {\n        if (!oidcConfiguration) {\n          kc.endpoints = {\n            authorize: function () {\n              return getRealmUrl() + '/protocol/openid-connect/auth';\n            },\n            token: function () {\n              return getRealmUrl() + '/protocol/openid-connect/token';\n            },\n            logout: function () {\n              return getRealmUrl() + '/protocol/openid-connect/logout';\n            },\n            checkSessionIframe: function () {\n              var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n              if (kc.iframeVersion) {\n                src = src + '?version=' + kc.iframeVersion;\n              }\n              return src;\n            },\n            thirdPartyCookiesIframe: function () {\n              var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n              if (kc.iframeVersion) {\n                src = src + '?version=' + kc.iframeVersion;\n              }\n              return src;\n            },\n            register: function () {\n              return getRealmUrl() + '/protocol/openid-connect/registrations';\n            },\n            userinfo: function () {\n              return getRealmUrl() + '/protocol/openid-connect/userinfo';\n            }\n          };\n        } else {\n          kc.endpoints = {\n            authorize: function () {\n              return oidcConfiguration.authorization_endpoint;\n            },\n            token: function () {\n              return oidcConfiguration.token_endpoint;\n            },\n            logout: function () {\n              if (!oidcConfiguration.end_session_endpoint) {\n                throw \"Not supported by the OIDC server\";\n              }\n              return oidcConfiguration.end_session_endpoint;\n            },\n            checkSessionIframe: function () {\n              if (!oidcConfiguration.check_session_iframe) {\n                throw \"Not supported by the OIDC server\";\n              }\n              return oidcConfiguration.check_session_iframe;\n            },\n            register: function () {\n              throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n            },\n            userinfo: function () {\n              if (!oidcConfiguration.userinfo_endpoint) {\n                throw \"Not supported by the OIDC server\";\n              }\n              return oidcConfiguration.userinfo_endpoint;\n            }\n          };\n        }\n      }\n      if (configUrl) {\n        var req = new XMLHttpRequest();\n        req.open('GET', configUrl, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.onreadystatechange = function () {\n          if (req.readyState == 4) {\n            if (req.status == 200 || fileLoaded(req)) {\n              var config = JSON.parse(req.responseText);\n              kc.authServerUrl = config['auth-server-url'];\n              kc.realm = config['realm'];\n              kc.clientId = config['resource'];\n              setupOidcEndoints(null);\n              promise.setSuccess();\n            } else {\n              promise.setError();\n            }\n          }\n        };\n        req.send();\n      } else {\n        if (!config.clientId) {\n          throw 'clientId missing';\n        }\n        kc.clientId = config.clientId;\n        var oidcProvider = config['oidcProvider'];\n        if (!oidcProvider) {\n          if (!config['url']) {\n            var scripts = document.getElementsByTagName('script');\n            for (var i = 0; i < scripts.length; i++) {\n              if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                break;\n              }\n            }\n          }\n          if (!config.realm) {\n            throw 'realm missing';\n          }\n          kc.authServerUrl = config.url;\n          kc.realm = config.realm;\n          setupOidcEndoints(null);\n          promise.setSuccess();\n        } else {\n          if (typeof oidcProvider === 'string') {\n            var oidcProviderConfigUrl;\n            if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n              oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n            } else {\n              oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n            }\n            var req = new XMLHttpRequest();\n            req.open('GET', oidcProviderConfigUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n            req.onreadystatechange = function () {\n              if (req.readyState == 4) {\n                if (req.status == 200 || fileLoaded(req)) {\n                  var oidcProviderConfig = JSON.parse(req.responseText);\n                  setupOidcEndoints(oidcProviderConfig);\n                  promise.setSuccess();\n                } else {\n                  promise.setError();\n                }\n              }\n            };\n            req.send();\n          } else {\n            setupOidcEndoints(oidcProvider);\n            promise.setSuccess();\n          }\n        }\n      }\n      return promise.promise;\n    }\n    function fileLoaded(xhr) {\n      return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n    function setToken(token, refreshToken, idToken, timeLocal) {\n      if (kc.tokenTimeoutHandle) {\n        clearTimeout(kc.tokenTimeoutHandle);\n        kc.tokenTimeoutHandle = null;\n      }\n      if (refreshToken) {\n        kc.refreshToken = refreshToken;\n        kc.refreshTokenParsed = decodeToken(refreshToken);\n      } else {\n        delete kc.refreshToken;\n        delete kc.refreshTokenParsed;\n      }\n      if (idToken) {\n        kc.idToken = idToken;\n        kc.idTokenParsed = decodeToken(idToken);\n      } else {\n        delete kc.idToken;\n        delete kc.idTokenParsed;\n      }\n      if (token) {\n        kc.token = token;\n        kc.tokenParsed = decodeToken(token);\n        kc.sessionId = kc.tokenParsed.session_state;\n        kc.authenticated = true;\n        kc.subject = kc.tokenParsed.sub;\n        kc.realmAccess = kc.tokenParsed.realm_access;\n        kc.resourceAccess = kc.tokenParsed.resource_access;\n        if (timeLocal) {\n          kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n        }\n        if (kc.timeSkew != null) {\n          logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n          if (kc.onTokenExpired) {\n            var expiresIn = (kc.tokenParsed['exp'] - new Date().getTime() / 1000 + kc.timeSkew) * 1000;\n            logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n            if (expiresIn <= 0) {\n              kc.onTokenExpired();\n            } else {\n              kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n            }\n          }\n        }\n      } else {\n        delete kc.token;\n        delete kc.tokenParsed;\n        delete kc.subject;\n        delete kc.realmAccess;\n        delete kc.resourceAccess;\n        kc.authenticated = false;\n      }\n    }\n    function decodeToken(str) {\n      str = str.split('.')[1];\n      str = str.replace(/-/g, '+');\n      str = str.replace(/_/g, '/');\n      switch (str.length % 4) {\n        case 0:\n          break;\n        case 2:\n          str += '==';\n          break;\n        case 3:\n          str += '=';\n          break;\n        default:\n          throw 'Invalid token';\n      }\n      str = decodeURIComponent(escape(atob(str)));\n      str = JSON.parse(str);\n      return str;\n    }\n    function createUUID() {\n      var hexDigits = '0123456789abcdef';\n      var s = generateRandomString(36, hexDigits).split(\"\");\n      s[14] = '4';\n      s[19] = hexDigits.substr(s[19] & 0x3 | 0x8, 1);\n      s[8] = s[13] = s[18] = s[23] = '-';\n      var uuid = s.join('');\n      return uuid;\n    }\n    function parseCallback(url) {\n      var oauth = parseCallbackUrl(url);\n      if (!oauth) {\n        return;\n      }\n      var oauthState = callbackStorage.get(oauth.state);\n      if (oauthState) {\n        oauth.valid = true;\n        oauth.redirectUri = oauthState.redirectUri;\n        oauth.storedNonce = oauthState.nonce;\n        oauth.prompt = oauthState.prompt;\n        oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n      }\n      return oauth;\n    }\n    function parseCallbackUrl(url) {\n      var supportedParams;\n      switch (kc.flow) {\n        case 'standard':\n          supportedParams = ['code', 'state', 'session_state', 'kc_action_status'];\n          break;\n        case 'implicit':\n          supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n          break;\n        case 'hybrid':\n          supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n          break;\n      }\n      supportedParams.push('error');\n      supportedParams.push('error_description');\n      supportedParams.push('error_uri');\n      var queryIndex = url.indexOf('?');\n      var fragmentIndex = url.indexOf('#');\n      var newUrl;\n      var parsed;\n      if (kc.responseMode === 'query' && queryIndex !== -1) {\n        newUrl = url.substring(0, queryIndex);\n        parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n        if (parsed.paramsString !== '') {\n          newUrl += '?' + parsed.paramsString;\n        }\n        if (fragmentIndex !== -1) {\n          newUrl += url.substring(fragmentIndex);\n        }\n      } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n        newUrl = url.substring(0, fragmentIndex);\n        parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n        if (parsed.paramsString !== '') {\n          newUrl += '#' + parsed.paramsString;\n        }\n      }\n      if (parsed && parsed.oauthParams) {\n        if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n          if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n            parsed.oauthParams.newUrl = newUrl;\n            return parsed.oauthParams;\n          }\n        } else if (kc.flow === 'implicit') {\n          if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n            parsed.oauthParams.newUrl = newUrl;\n            return parsed.oauthParams;\n          }\n        }\n      }\n    }\n    function parseCallbackParams(paramsString, supportedParams) {\n      var p = paramsString.split('&');\n      var result = {\n        paramsString: '',\n        oauthParams: {}\n      };\n      for (var i = 0; i < p.length; i++) {\n        var split = p[i].indexOf(\"=\");\n        var key = p[i].slice(0, split);\n        if (supportedParams.indexOf(key) !== -1) {\n          result.oauthParams[key] = p[i].slice(split + 1);\n        } else {\n          if (result.paramsString !== '') {\n            result.paramsString += '&';\n          }\n          result.paramsString += p[i];\n        }\n      }\n      return result;\n    }\n    function createPromise() {\n      // Need to create a native Promise which also preserves the\n      // interface of the custom promise type previously used by the API\n      var p = {\n        setSuccess: function (result) {\n          p.resolve(result);\n        },\n        setError: function (result) {\n          p.reject(result);\n        }\n      };\n      p.promise = new Promise(function (resolve, reject) {\n        p.resolve = resolve;\n        p.reject = reject;\n      });\n      p.promise.success = function (callback) {\n        logPromiseDeprecation();\n        this.then(function handleSuccess(value) {\n          callback(value);\n        });\n        return this;\n      };\n      p.promise.error = function (callback) {\n        logPromiseDeprecation();\n        this.catch(function handleError(error) {\n          callback(error);\n        });\n        return this;\n      };\n      return p;\n    }\n    function setupCheckLoginIframe() {\n      var promise = createPromise();\n      if (!loginIframe.enable) {\n        promise.setSuccess();\n        return promise.promise;\n      }\n      if (loginIframe.iframe) {\n        promise.setSuccess();\n        return promise.promise;\n      }\n      var iframe = document.createElement('iframe');\n      loginIframe.iframe = iframe;\n      iframe.onload = function () {\n        var authUrl = kc.endpoints.authorize();\n        if (authUrl.charAt(0) === '/') {\n          loginIframe.iframeOrigin = getOrigin();\n        } else {\n          loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n        }\n        promise.setSuccess();\n      };\n      var src = kc.endpoints.checkSessionIframe();\n      iframe.setAttribute('src', src);\n      iframe.setAttribute('title', 'keycloak-session-iframe');\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n      var messageCallback = function (event) {\n        if (event.origin !== loginIframe.iframeOrigin || loginIframe.iframe.contentWindow !== event.source) {\n          return;\n        }\n        if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n          return;\n        }\n        if (event.data != 'unchanged') {\n          kc.clearToken();\n        }\n        var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n        for (var i = callbacks.length - 1; i >= 0; --i) {\n          var promise = callbacks[i];\n          if (event.data == 'error') {\n            promise.setError();\n          } else {\n            promise.setSuccess(event.data == 'unchanged');\n          }\n        }\n      };\n      window.addEventListener('message', messageCallback, false);\n      return promise.promise;\n    }\n    function scheduleCheckIframe() {\n      if (loginIframe.enable) {\n        if (kc.token) {\n          setTimeout(function () {\n            checkLoginIframe().then(function (unchanged) {\n              if (unchanged) {\n                scheduleCheckIframe();\n              }\n            });\n          }, loginIframe.interval * 1000);\n        }\n      }\n    }\n    function checkLoginIframe() {\n      var promise = createPromise();\n      if (loginIframe.iframe && loginIframe.iframeOrigin) {\n        var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n        loginIframe.callbackList.push(promise);\n        var origin = loginIframe.iframeOrigin;\n        if (loginIframe.callbackList.length == 1) {\n          loginIframe.iframe.contentWindow.postMessage(msg, origin);\n        }\n      } else {\n        promise.setSuccess();\n      }\n      return promise.promise;\n    }\n    function check3pCookiesSupported() {\n      var promise = createPromise();\n      if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n        var iframe = document.createElement('iframe');\n        iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n        iframe.setAttribute('title', 'keycloak-3p-check-iframe');\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n        var messageCallback = function (event) {\n          if (iframe.contentWindow !== event.source) {\n            return;\n          }\n          if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n            return;\n          } else if (event.data === \"unsupported\") {\n            loginIframe.enable = false;\n            if (kc.silentCheckSsoFallback) {\n              kc.silentCheckSsoRedirectUri = false;\n            }\n            logWarn(\"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" + \"silent check-sso are not available.\");\n          }\n          document.body.removeChild(iframe);\n          window.removeEventListener(\"message\", messageCallback);\n          promise.setSuccess();\n        };\n        window.addEventListener('message', messageCallback, false);\n      } else {\n        promise.setSuccess();\n      }\n      return promise.promise;\n    }\n    function loadAdapter(type) {\n      if (!type || type == 'default') {\n        return {\n          login: function (options) {\n            window.location.replace(kc.createLoginUrl(options));\n            return createPromise().promise;\n          },\n          logout: function (options) {\n            window.location.replace(kc.createLogoutUrl(options));\n            return createPromise().promise;\n          },\n          register: function (options) {\n            window.location.replace(kc.createRegisterUrl(options));\n            return createPromise().promise;\n          },\n          accountManagement: function () {\n            var accountUrl = kc.createAccountUrl();\n            if (typeof accountUrl !== 'undefined') {\n              window.location.href = accountUrl;\n            } else {\n              throw \"Not supported by the OIDC server\";\n            }\n            return createPromise().promise;\n          },\n          redirectUri: function (options, encodeHash) {\n            if (arguments.length == 1) {\n              encodeHash = true;\n            }\n            if (options && options.redirectUri) {\n              return options.redirectUri;\n            } else if (kc.redirectUri) {\n              return kc.redirectUri;\n            } else {\n              return location.href;\n            }\n          }\n        };\n      }\n      if (type == 'cordova') {\n        loginIframe.enable = false;\n        var cordovaOpenWindowWrapper = function (loginUrl, target, options) {\n          if (window.cordova && window.cordova.InAppBrowser) {\n            // Use inappbrowser for IOS and Android if available\n            return window.cordova.InAppBrowser.open(loginUrl, target, options);\n          } else {\n            return window.open(loginUrl, target, options);\n          }\n        };\n        var shallowCloneCordovaOptions = function (userOptions) {\n          if (userOptions && userOptions.cordovaOptions) {\n            return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n              options[optionName] = userOptions.cordovaOptions[optionName];\n              return options;\n            }, {});\n          } else {\n            return {};\n          }\n        };\n        var formatCordovaOptions = function (cordovaOptions) {\n          return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n            options.push(optionName + \"=\" + cordovaOptions[optionName]);\n            return options;\n          }, []).join(\",\");\n        };\n        var createCordovaOptions = function (userOptions) {\n          var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n          cordovaOptions.location = 'no';\n          if (userOptions && userOptions.prompt == 'none') {\n            cordovaOptions.hidden = 'yes';\n          }\n          return formatCordovaOptions(cordovaOptions);\n        };\n        return {\n          login: function (options) {\n            var promise = createPromise();\n            var cordovaOptions = createCordovaOptions(options);\n            var loginUrl = kc.createLoginUrl(options);\n            var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n            var completed = false;\n            var closed = false;\n            var closeBrowser = function () {\n              closed = true;\n              ref.close();\n            };\n            ref.addEventListener('loadstart', function (event) {\n              if (event.url.indexOf('http://localhost') == 0) {\n                var callback = parseCallback(event.url);\n                processCallback(callback, promise);\n                closeBrowser();\n                completed = true;\n              }\n            });\n            ref.addEventListener('loaderror', function (event) {\n              if (!completed) {\n                if (event.url.indexOf('http://localhost') == 0) {\n                  var callback = parseCallback(event.url);\n                  processCallback(callback, promise);\n                  closeBrowser();\n                  completed = true;\n                } else {\n                  promise.setError();\n                  closeBrowser();\n                }\n              }\n            });\n            ref.addEventListener('exit', function (event) {\n              if (!closed) {\n                promise.setError({\n                  reason: \"closed_by_user\"\n                });\n              }\n            });\n            return promise.promise;\n          },\n          logout: function (options) {\n            var promise = createPromise();\n            var logoutUrl = kc.createLogoutUrl(options);\n            var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes');\n            var error;\n            ref.addEventListener('loadstart', function (event) {\n              if (event.url.indexOf('http://localhost') == 0) {\n                ref.close();\n              }\n            });\n            ref.addEventListener('loaderror', function (event) {\n              if (event.url.indexOf('http://localhost') == 0) {\n                ref.close();\n              } else {\n                error = true;\n                ref.close();\n              }\n            });\n            ref.addEventListener('exit', function (event) {\n              if (error) {\n                promise.setError();\n              } else {\n                kc.clearToken();\n                promise.setSuccess();\n              }\n            });\n            return promise.promise;\n          },\n          register: function (options) {\n            var promise = createPromise();\n            var registerUrl = kc.createRegisterUrl();\n            var cordovaOptions = createCordovaOptions(options);\n            var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n            ref.addEventListener('loadstart', function (event) {\n              if (event.url.indexOf('http://localhost') == 0) {\n                ref.close();\n                var oauth = parseCallback(event.url);\n                processCallback(oauth, promise);\n              }\n            });\n            return promise.promise;\n          },\n          accountManagement: function () {\n            var accountUrl = kc.createAccountUrl();\n            if (typeof accountUrl !== 'undefined') {\n              var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n              ref.addEventListener('loadstart', function (event) {\n                if (event.url.indexOf('http://localhost') == 0) {\n                  ref.close();\n                }\n              });\n            } else {\n              throw \"Not supported by the OIDC server\";\n            }\n          },\n          redirectUri: function (options) {\n            return 'http://localhost';\n          }\n        };\n      }\n      if (type == 'cordova-native') {\n        loginIframe.enable = false;\n        return {\n          login: function (options) {\n            var promise = createPromise();\n            var loginUrl = kc.createLoginUrl(options);\n            universalLinks.subscribe('keycloak', function (event) {\n              universalLinks.unsubscribe('keycloak');\n              window.cordova.plugins.browsertab.close();\n              var oauth = parseCallback(event.url);\n              processCallback(oauth, promise);\n            });\n            window.cordova.plugins.browsertab.openUrl(loginUrl);\n            return promise.promise;\n          },\n          logout: function (options) {\n            var promise = createPromise();\n            var logoutUrl = kc.createLogoutUrl(options);\n            universalLinks.subscribe('keycloak', function (event) {\n              universalLinks.unsubscribe('keycloak');\n              window.cordova.plugins.browsertab.close();\n              kc.clearToken();\n              promise.setSuccess();\n            });\n            window.cordova.plugins.browsertab.openUrl(logoutUrl);\n            return promise.promise;\n          },\n          register: function (options) {\n            var promise = createPromise();\n            var registerUrl = kc.createRegisterUrl(options);\n            universalLinks.subscribe('keycloak', function (event) {\n              universalLinks.unsubscribe('keycloak');\n              window.cordova.plugins.browsertab.close();\n              var oauth = parseCallback(event.url);\n              processCallback(oauth, promise);\n            });\n            window.cordova.plugins.browsertab.openUrl(registerUrl);\n            return promise.promise;\n          },\n          accountManagement: function () {\n            var accountUrl = kc.createAccountUrl();\n            if (typeof accountUrl !== 'undefined') {\n              window.cordova.plugins.browsertab.openUrl(accountUrl);\n            } else {\n              throw \"Not supported by the OIDC server\";\n            }\n          },\n          redirectUri: function (options) {\n            if (options && options.redirectUri) {\n              return options.redirectUri;\n            } else if (kc.redirectUri) {\n              return kc.redirectUri;\n            } else {\n              return \"http://localhost\";\n            }\n          }\n        };\n      }\n      throw 'invalid adapter type: ' + type;\n    }\n    var LocalStorage = function () {\n      if (!(this instanceof LocalStorage)) {\n        return new LocalStorage();\n      }\n      localStorage.setItem('kc-test', 'test');\n      localStorage.removeItem('kc-test');\n      var cs = this;\n      function clearExpired() {\n        var time = new Date().getTime();\n        for (var i = 0; i < localStorage.length; i++) {\n          var key = localStorage.key(i);\n          if (key && key.indexOf('kc-callback-') == 0) {\n            var value = localStorage.getItem(key);\n            if (value) {\n              try {\n                var expires = JSON.parse(value).expires;\n                if (!expires || expires < time) {\n                  localStorage.removeItem(key);\n                }\n              } catch (err) {\n                localStorage.removeItem(key);\n              }\n            }\n          }\n        }\n      }\n      cs.get = function (state) {\n        if (!state) {\n          return;\n        }\n        var key = 'kc-callback-' + state;\n        var value = localStorage.getItem(key);\n        if (value) {\n          localStorage.removeItem(key);\n          value = JSON.parse(value);\n        }\n        clearExpired();\n        return value;\n      };\n      cs.add = function (state) {\n        clearExpired();\n        var key = 'kc-callback-' + state.state;\n        state.expires = new Date().getTime() + 60 * 60 * 1000;\n        localStorage.setItem(key, JSON.stringify(state));\n      };\n    };\n    var CookieStorage = function () {\n      if (!(this instanceof CookieStorage)) {\n        return new CookieStorage();\n      }\n      var cs = this;\n      cs.get = function (state) {\n        if (!state) {\n          return;\n        }\n        var value = getCookie('kc-callback-' + state);\n        setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n        if (value) {\n          return JSON.parse(value);\n        }\n      };\n      cs.add = function (state) {\n        setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n      };\n      cs.removeItem = function (key) {\n        setCookie(key, '', cookieExpiration(-100));\n      };\n      var cookieExpiration = function (minutes) {\n        var exp = new Date();\n        exp.setTime(exp.getTime() + minutes * 60 * 1000);\n        return exp;\n      };\n      var getCookie = function (key) {\n        var name = key + '=';\n        var ca = document.cookie.split(';');\n        for (var i = 0; i < ca.length; i++) {\n          var c = ca[i];\n          while (c.charAt(0) == ' ') {\n            c = c.substring(1);\n          }\n          if (c.indexOf(name) == 0) {\n            return c.substring(name.length, c.length);\n          }\n        }\n        return '';\n      };\n      var setCookie = function (key, value, expirationDate) {\n        var cookie = key + '=' + value + '; ' + 'expires=' + expirationDate.toUTCString() + '; ';\n        document.cookie = cookie;\n      };\n    };\n    function createCallbackStorage() {\n      try {\n        return new LocalStorage();\n      } catch (err) {}\n      return new CookieStorage();\n    }\n    function createLogger(fn) {\n      return function () {\n        if (kc.enableLogging) {\n          fn.apply(console, Array.prototype.slice.call(arguments));\n        }\n      };\n    }\n  }\n  return Keycloak;\n});","map":{"version":3,"names":["root","factory","exports","module","require","t","i","d","blocks","h0","h1","h2","h3","h4","h5","h6","h7","block","start","bytes","hBytes","finalized","hashed","first","is224","r","s","e","n","o","a","u","length","c","charCodeAt","Error","h","f","constructor","ArrayBuffer","Uint8Array","Array","isArray","isView","update","array","y","p","l","call","oKeyPad","inner","sharedMemory","window","JS_SHA256_NO_WINDOW","self","JS_SHA256_NO_NODE_JS","process","versions","node","global","JS_SHA256_NO_COMMON_JS","define","amd","JS_SHA256_NO_ARRAY_BUFFER","split","Object","prototype","toString","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","buffer","A","w","b","create","eval","createHash","digest","v","_","lastByteIndex","hash","finalize","hex","push","arrayBuffer","DataView","setUint32","B","sha256","sha224","hmac","base64js","code","byteLength","toByteArray","fromByteArray","indexOf","join","then","resolve","reject","TypeError","_state","_handled","_value","undefined","_deferreds","_immediateFn","onFulfilled","onRejected","promise","apply","arguments","_unhandledRejectionFn","setTimeout","all","slice","race","setImmediate","console","warn","Promise","Keycloak","sha256_imported","base64js_imported","loggedPromiseDeprecation","logPromiseDeprecation","config","kc","adapter","refreshQueue","callbackStorage","loginIframe","enable","callbackList","interval","scripts","document","getElementsByTagName","src","iframeVersion","substring","useNonce","logInfo","createLogger","info","logWarn","init","initOptions","authenticated","createCallbackStorage","adapters","loadAdapter","Cordova","cordova","checkLoginIframe","checkLoginIframeInterval","onLoad","loginRequired","responseMode","flow","responseType","timeSkew","redirectUri","silentCheckSsoRedirectUri","silentCheckSsoFallback","pkceMethod","enableLogging","scope","createPromise","initPromise","onReady","setSuccess","catch","errorData","setError","configPromise","loadConfig","doLogin","prompt","options","login","checkSsoSilently","ifrm","createElement","createLoginUrl","setAttribute","style","display","body","appendChild","messageCallback","event","origin","location","contentWindow","source","oauth","parseCallback","data","processCallback","removeChild","removeEventListener","addEventListener","setupCheckLoginIframe","unchanged","processInit","callback","href","history","replaceState","state","newUrl","valid","token","refreshToken","setToken","idToken","onAuthSuccess","scheduleCheckIframe","updateToken","onAuthError","domReady","checkReadyState","readyState","check3pCookiesSupported","generateRandomData","len","crypto","msCrypto","getRandomValues","j","Math","floor","random","generateCodeVerifier","generateRandomString","alphabet","randomData","chars","String","fromCharCode","generatePkceChallenge","codeVerifier","hashBytes","encodedHash","replace","createUUID","nonce","callbackState","encodeURIComponent","baseUrl","action","endpoints","register","authorize","url","clientId","maxAge","loginHint","idpHint","locale","pkceCodeVerifier","pkceChallenge","add","logout","createLogoutUrl","createRegisterUrl","createAccountUrl","realm","getRealmUrl","accountManagement","hasRealmRole","role","access","realmAccess","roles","hasResourceRole","resource","resourceAccess","loadUserProfile","req","XMLHttpRequest","open","setRequestHeader","onreadystatechange","status","profile","JSON","parse","responseText","send","loadUserInfo","userinfo","userInfo","isTokenExpired","minValidity","tokenParsed","expiresIn","ceil","Date","getTime","isNaN","exec","params","withCredentials","timeLocal","tokenResponse","onAuthRefreshSuccess","pop","clearToken","onAuthRefreshError","iframePromise","onAuthLogout","authServerUrl","charAt","getOrigin","protocol","hostname","port","error","onActionUpdate","error_description","access_token","id_token","authSuccess","accessToken","fulfillPromise","storedNonce","refreshTokenParsed","idTokenParsed","configUrl","setupOidcEndoints","oidcConfiguration","checkSessionIframe","thirdPartyCookiesIframe","authorization_endpoint","token_endpoint","end_session_endpoint","check_session_iframe","userinfo_endpoint","fileLoaded","oidcProvider","match","substr","oidcProviderConfigUrl","oidcProviderConfig","xhr","responseURL","startsWith","tokenTimeoutHandle","clearTimeout","decodeToken","sessionId","session_state","subject","sub","realm_access","resource_access","iat","onTokenExpired","round","str","decodeURIComponent","escape","atob","hexDigits","uuid","parseCallbackUrl","oauthState","get","supportedParams","queryIndex","fragmentIndex","parsed","parseCallbackParams","paramsString","oauthParams","result","key","success","handleSuccess","value","handleError","iframe","onload","authUrl","iframeOrigin","callbacks","splice","msg","postMessage","type","accountUrl","encodeHash","cordovaOpenWindowWrapper","loginUrl","target","InAppBrowser","shallowCloneCordovaOptions","userOptions","cordovaOptions","keys","reduce","optionName","formatCordovaOptions","createCordovaOptions","hidden","ref","completed","closed","closeBrowser","close","reason","logoutUrl","registerUrl","universalLinks","subscribe","unsubscribe","plugins","browsertab","openUrl","LocalStorage","localStorage","setItem","removeItem","cs","clearExpired","time","getItem","expires","err","stringify","CookieStorage","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","name","ca","cookie","expirationDate","toUTCString","fn"],"sources":["/home/raphael/Desktop/Schule/5AHIF/Syp/KeyCloak-Presentation/angular-quarkus-keycloack/pet-store/node_modules/keycloak-js/dist/keycloak.js"],"sourcesContent":["/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(root, factory) {\n    if ( typeof exports === 'object' ) {\n        if ( typeof module === 'object' ) {\n            module.exports = factory( require(\"js-sha256\"), require(\"base64-js\") );\n        } else {\n            exports[\"keycloak\"] = factory( require(\"js-sha256\"), require(\"base64-js\") );\n        }\n    } else {\n        /**\n        * [js-sha256]{@link https://github.com/emn178/js-sha256}\n        *\n        * @version 0.9.0\n        * @author Chen, Yi-Cyuan [emn178@gmail.com]\n        * @copyright Chen, Yi-Cyuan 2014-2017\n        * @license MIT\n        */\n        !function () { \"use strict\"; function t(t, i) { i ? (d[0] = d[16] = d[1] = d[2] = d[3] = d[4] = d[5] = d[6] = d[7] = d[8] = d[9] = d[10] = d[11] = d[12] = d[13] = d[14] = d[15] = 0, this.blocks = d) : this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], t ? (this.h0 = 3238371032, this.h1 = 914150663, this.h2 = 812702999, this.h3 = 4144912697, this.h4 = 4290775857, this.h5 = 1750603025, this.h6 = 1694076839, this.h7 = 3204075428) : (this.h0 = 1779033703, this.h1 = 3144134277, this.h2 = 1013904242, this.h3 = 2773480762, this.h4 = 1359893119, this.h5 = 2600822924, this.h6 = 528734635, this.h7 = 1541459225), this.block = this.start = this.bytes = this.hBytes = 0, this.finalized = this.hashed = !1, this.first = !0, this.is224 = t } function i(i, r, s) { var e, n = typeof i; if (\"string\" === n) { var o, a = [], u = i.length, c = 0; for (e = 0; e < u; ++e)(o = i.charCodeAt(e)) < 128 ? a[c++] = o : o < 2048 ? (a[c++] = 192 | o >> 6, a[c++] = 128 | 63 & o) : o < 55296 || o >= 57344 ? (a[c++] = 224 | o >> 12, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o) : (o = 65536 + ((1023 & o) << 10 | 1023 & i.charCodeAt(++e)), a[c++] = 240 | o >> 18, a[c++] = 128 | o >> 12 & 63, a[c++] = 128 | o >> 6 & 63, a[c++] = 128 | 63 & o); i = a } else { if (\"object\" !== n) throw new Error(h); if (null === i) throw new Error(h); if (f && i.constructor === ArrayBuffer) i = new Uint8Array(i); else if (!(Array.isArray(i) || f && ArrayBuffer.isView(i))) throw new Error(h) } i.length > 64 && (i = new t(r, !0).update(i).array()); var y = [], p = []; for (e = 0; e < 64; ++e) { var l = i[e] || 0; y[e] = 92 ^ l, p[e] = 54 ^ l } t.call(this, r, s), this.update(p), this.oKeyPad = y, this.inner = !0, this.sharedMemory = s } var h = \"input is invalid type\", r = \"object\" == typeof window, s = r ? window : {}; s.JS_SHA256_NO_WINDOW && (r = !1); var e = !r && \"object\" == typeof self, n = !s.JS_SHA256_NO_NODE_JS && \"object\" == typeof process && process.versions && process.versions.node; n ? s = global : e && (s = self); var o = !s.JS_SHA256_NO_COMMON_JS && \"object\" == typeof module && module.exports, a = \"function\" == typeof define && define.amd, f = !s.JS_SHA256_NO_ARRAY_BUFFER && \"undefined\" != typeof ArrayBuffer, u = \"0123456789abcdef\".split(\"\"), c = [-2147483648, 8388608, 32768, 128], y = [24, 16, 8, 0], p = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298], l = [\"hex\", \"array\", \"digest\", \"arrayBuffer\"], d = []; !s.JS_SHA256_NO_NODE_JS && Array.isArray || (Array.isArray = function (t) { return \"[object Array]\" === Object.prototype.toString.call(t) }), !f || !s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW && ArrayBuffer.isView || (ArrayBuffer.isView = function (t) { return \"object\" == typeof t && t.buffer && t.buffer.constructor === ArrayBuffer }); var A = function (i, h) { return function (r) { return new t(h, !0).update(r)[i]() } }, w = function (i) { var h = A(\"hex\", i); n && (h = b(h, i)), h.create = function () { return new t(i) }, h.update = function (t) { return h.create().update(t) }; for (var r = 0; r < l.length; ++r) { var s = l[r]; h[s] = A(s, i) } return h }, b = function (t, i) { var r = eval(\"require('crypto')\"), s = eval(\"require('buffer').Buffer\"), e = i ? \"sha224\" : \"sha256\", n = function (i) { if (\"string\" == typeof i) return r.createHash(e).update(i, \"utf8\").digest(\"hex\"); if (null === i || void 0 === i) throw new Error(h); return i.constructor === ArrayBuffer && (i = new Uint8Array(i)), Array.isArray(i) || ArrayBuffer.isView(i) || i.constructor === s ? r.createHash(e).update(new s(i)).digest(\"hex\") : t(i) }; return n }, v = function (t, h) { return function (r, s) { return new i(r, h, !0).update(s)[t]() } }, _ = function (t) { var h = v(\"hex\", t); h.create = function (h) { return new i(h, t) }, h.update = function (t, i) { return h.create(t).update(i) }; for (var r = 0; r < l.length; ++r) { var s = l[r]; h[s] = v(s, t) } return h }; t.prototype.update = function (t) { if (!this.finalized) { var i, r = typeof t; if (\"string\" !== r) { if (\"object\" !== r) throw new Error(h); if (null === t) throw new Error(h); if (f && t.constructor === ArrayBuffer) t = new Uint8Array(t); else if (!(Array.isArray(t) || f && ArrayBuffer.isView(t))) throw new Error(h); i = !0 } for (var s, e, n = 0, o = t.length, a = this.blocks; n < o;) { if (this.hashed && (this.hashed = !1, a[0] = this.block, a[16] = a[1] = a[2] = a[3] = a[4] = a[5] = a[6] = a[7] = a[8] = a[9] = a[10] = a[11] = a[12] = a[13] = a[14] = a[15] = 0), i) for (e = this.start; n < o && e < 64; ++n)a[e >> 2] |= t[n] << y[3 & e++]; else for (e = this.start; n < o && e < 64; ++n)(s = t.charCodeAt(n)) < 128 ? a[e >> 2] |= s << y[3 & e++] : s < 2048 ? (a[e >> 2] |= (192 | s >> 6) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : s < 55296 || s >= 57344 ? (a[e >> 2] |= (224 | s >> 12) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]) : (s = 65536 + ((1023 & s) << 10 | 1023 & t.charCodeAt(++n)), a[e >> 2] |= (240 | s >> 18) << y[3 & e++], a[e >> 2] |= (128 | s >> 12 & 63) << y[3 & e++], a[e >> 2] |= (128 | s >> 6 & 63) << y[3 & e++], a[e >> 2] |= (128 | 63 & s) << y[3 & e++]); this.lastByteIndex = e, this.bytes += e - this.start, e >= 64 ? (this.block = a[16], this.start = e - 64, this.hash(), this.hashed = !0) : this.start = e } return this.bytes > 4294967295 && (this.hBytes += this.bytes / 4294967296 << 0, this.bytes = this.bytes % 4294967296), this } }, t.prototype.finalize = function () { if (!this.finalized) { this.finalized = !0; var t = this.blocks, i = this.lastByteIndex; t[16] = this.block, t[i >> 2] |= c[3 & i], this.block = t[16], i >= 56 && (this.hashed || this.hash(), t[0] = this.block, t[16] = t[1] = t[2] = t[3] = t[4] = t[5] = t[6] = t[7] = t[8] = t[9] = t[10] = t[11] = t[12] = t[13] = t[14] = t[15] = 0), t[14] = this.hBytes << 3 | this.bytes >>> 29, t[15] = this.bytes << 3, this.hash() } }, t.prototype.hash = function () { var t, i, h, r, s, e, n, o, a, f = this.h0, u = this.h1, c = this.h2, y = this.h3, l = this.h4, d = this.h5, A = this.h6, w = this.h7, b = this.blocks; for (t = 16; t < 64; ++t)i = ((s = b[t - 15]) >>> 7 | s << 25) ^ (s >>> 18 | s << 14) ^ s >>> 3, h = ((s = b[t - 2]) >>> 17 | s << 15) ^ (s >>> 19 | s << 13) ^ s >>> 10, b[t] = b[t - 16] + i + b[t - 7] + h << 0; for (a = u & c, t = 0; t < 64; t += 4)this.first ? (this.is224 ? (e = 300032, w = (s = b[0] - 1413257819) - 150054599 << 0, y = s + 24177077 << 0) : (e = 704751109, w = (s = b[0] - 210244248) - 1521486534 << 0, y = s + 143694565 << 0), this.first = !1) : (i = (f >>> 2 | f << 30) ^ (f >>> 13 | f << 19) ^ (f >>> 22 | f << 10), r = (e = f & u) ^ f & c ^ a, w = y + (s = w + (h = (l >>> 6 | l << 26) ^ (l >>> 11 | l << 21) ^ (l >>> 25 | l << 7)) + (l & d ^ ~l & A) + p[t] + b[t]) << 0, y = s + (i + r) << 0), i = (y >>> 2 | y << 30) ^ (y >>> 13 | y << 19) ^ (y >>> 22 | y << 10), r = (n = y & f) ^ y & u ^ e, A = c + (s = A + (h = (w >>> 6 | w << 26) ^ (w >>> 11 | w << 21) ^ (w >>> 25 | w << 7)) + (w & l ^ ~w & d) + p[t + 1] + b[t + 1]) << 0, i = ((c = s + (i + r) << 0) >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10), r = (o = c & y) ^ c & f ^ n, d = u + (s = d + (h = (A >>> 6 | A << 26) ^ (A >>> 11 | A << 21) ^ (A >>> 25 | A << 7)) + (A & w ^ ~A & l) + p[t + 2] + b[t + 2]) << 0, i = ((u = s + (i + r) << 0) >>> 2 | u << 30) ^ (u >>> 13 | u << 19) ^ (u >>> 22 | u << 10), r = (a = u & c) ^ u & y ^ o, l = f + (s = l + (h = (d >>> 6 | d << 26) ^ (d >>> 11 | d << 21) ^ (d >>> 25 | d << 7)) + (d & A ^ ~d & w) + p[t + 3] + b[t + 3]) << 0, f = s + (i + r) << 0; this.h0 = this.h0 + f << 0, this.h1 = this.h1 + u << 0, this.h2 = this.h2 + c << 0, this.h3 = this.h3 + y << 0, this.h4 = this.h4 + l << 0, this.h5 = this.h5 + d << 0, this.h6 = this.h6 + A << 0, this.h7 = this.h7 + w << 0 }, t.prototype.hex = function () { this.finalize(); var t = this.h0, i = this.h1, h = this.h2, r = this.h3, s = this.h4, e = this.h5, n = this.h6, o = this.h7, a = u[t >> 28 & 15] + u[t >> 24 & 15] + u[t >> 20 & 15] + u[t >> 16 & 15] + u[t >> 12 & 15] + u[t >> 8 & 15] + u[t >> 4 & 15] + u[15 & t] + u[i >> 28 & 15] + u[i >> 24 & 15] + u[i >> 20 & 15] + u[i >> 16 & 15] + u[i >> 12 & 15] + u[i >> 8 & 15] + u[i >> 4 & 15] + u[15 & i] + u[h >> 28 & 15] + u[h >> 24 & 15] + u[h >> 20 & 15] + u[h >> 16 & 15] + u[h >> 12 & 15] + u[h >> 8 & 15] + u[h >> 4 & 15] + u[15 & h] + u[r >> 28 & 15] + u[r >> 24 & 15] + u[r >> 20 & 15] + u[r >> 16 & 15] + u[r >> 12 & 15] + u[r >> 8 & 15] + u[r >> 4 & 15] + u[15 & r] + u[s >> 28 & 15] + u[s >> 24 & 15] + u[s >> 20 & 15] + u[s >> 16 & 15] + u[s >> 12 & 15] + u[s >> 8 & 15] + u[s >> 4 & 15] + u[15 & s] + u[e >> 28 & 15] + u[e >> 24 & 15] + u[e >> 20 & 15] + u[e >> 16 & 15] + u[e >> 12 & 15] + u[e >> 8 & 15] + u[e >> 4 & 15] + u[15 & e] + u[n >> 28 & 15] + u[n >> 24 & 15] + u[n >> 20 & 15] + u[n >> 16 & 15] + u[n >> 12 & 15] + u[n >> 8 & 15] + u[n >> 4 & 15] + u[15 & n]; return this.is224 || (a += u[o >> 28 & 15] + u[o >> 24 & 15] + u[o >> 20 & 15] + u[o >> 16 & 15] + u[o >> 12 & 15] + u[o >> 8 & 15] + u[o >> 4 & 15] + u[15 & o]), a }, t.prototype.toString = t.prototype.hex, t.prototype.digest = function () { this.finalize(); var t = this.h0, i = this.h1, h = this.h2, r = this.h3, s = this.h4, e = this.h5, n = this.h6, o = this.h7, a = [t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t, i >> 24 & 255, i >> 16 & 255, i >> 8 & 255, 255 & i, h >> 24 & 255, h >> 16 & 255, h >> 8 & 255, 255 & h, r >> 24 & 255, r >> 16 & 255, r >> 8 & 255, 255 & r, s >> 24 & 255, s >> 16 & 255, s >> 8 & 255, 255 & s, e >> 24 & 255, e >> 16 & 255, e >> 8 & 255, 255 & e, n >> 24 & 255, n >> 16 & 255, n >> 8 & 255, 255 & n]; return this.is224 || a.push(o >> 24 & 255, o >> 16 & 255, o >> 8 & 255, 255 & o), a }, t.prototype.array = t.prototype.digest, t.prototype.arrayBuffer = function () { this.finalize(); var t = new ArrayBuffer(this.is224 ? 28 : 32), i = new DataView(t); return i.setUint32(0, this.h0), i.setUint32(4, this.h1), i.setUint32(8, this.h2), i.setUint32(12, this.h3), i.setUint32(16, this.h4), i.setUint32(20, this.h5), i.setUint32(24, this.h6), this.is224 || i.setUint32(28, this.h7), t }, i.prototype = new t, i.prototype.finalize = function () { if (t.prototype.finalize.call(this), this.inner) { this.inner = !1; var i = this.array(); t.call(this, this.is224, this.sharedMemory), this.update(this.oKeyPad), this.update(i), t.prototype.finalize.call(this) } }; var B = w(); B.sha256 = B, B.sha224 = w(!0), B.sha256.hmac = _(), B.sha224.hmac = _(!0), o ? module.exports = B : (s.sha256 = B.sha256, s.sha224 = B.sha224, a && define(function () { return B })) }();\n\n        /**\n         * [base64-js]{@link https://github.com/beatgammit/base64-js}\n         *\n         * @version v1.3.0\n         * @author Kirill, Fomichev\n         * @copyright Kirill, Fomichev 2014\n         * @license MIT\n         */\n        (function (r) { if (typeof exports === \"object\" && typeof module !== \"undefined\") { module.exports = r() } else if (typeof define === \"function\" && define.amd) { define([], r) } else { var e; if (typeof window !== \"undefined\") { e = window } else if (typeof global !== \"undefined\") { e = global } else if (typeof self !== \"undefined\") { e = self } else { e = this } e.base64js = r() } })(function () { var r, e, n; return function () { function r(e, n, t) { function o(f, i) { if (!n[f]) { if (!e[f]) { var u = \"function\" == typeof require && require; if (!i && u) return u(f, !0); if (a) return a(f, !0); var v = new Error(\"Cannot find module '\" + f + \"'\"); throw v.code = \"MODULE_NOT_FOUND\", v } var d = n[f] = { exports: {} }; e[f][0].call(d.exports, function (r) { var n = e[f][1][r]; return o(n || r) }, d, d.exports, r, e, n, t) } return n[f].exports } for (var a = \"function\" == typeof require && require, f = 0; f < t.length; f++)o(t[f]); return o } return r }()({ \"/\": [function (r, e, n) { \"use strict\"; n.byteLength = d; n.toByteArray = h; n.fromByteArray = p; var t = []; var o = []; var a = typeof Uint8Array !== \"undefined\" ? Uint8Array : Array; var f = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"; for (var i = 0, u = f.length; i < u; ++i) { t[i] = f[i]; o[f.charCodeAt(i)] = i } o[\"-\".charCodeAt(0)] = 62; o[\"_\".charCodeAt(0)] = 63; function v(r) { var e = r.length; if (e % 4 > 0) { throw new Error(\"Invalid string. Length must be a multiple of 4\") } var n = r.indexOf(\"=\"); if (n === -1) n = e; var t = n === e ? 0 : 4 - n % 4; return [n, t] } function d(r) { var e = v(r); var n = e[0]; var t = e[1]; return (n + t) * 3 / 4 - t } function c(r, e, n) { return (e + n) * 3 / 4 - n } function h(r) { var e; var n = v(r); var t = n[0]; var f = n[1]; var i = new a(c(r, t, f)); var u = 0; var d = f > 0 ? t - 4 : t; for (var h = 0; h < d; h += 4) { e = o[r.charCodeAt(h)] << 18 | o[r.charCodeAt(h + 1)] << 12 | o[r.charCodeAt(h + 2)] << 6 | o[r.charCodeAt(h + 3)]; i[u++] = e >> 16 & 255; i[u++] = e >> 8 & 255; i[u++] = e & 255 } if (f === 2) { e = o[r.charCodeAt(h)] << 2 | o[r.charCodeAt(h + 1)] >> 4; i[u++] = e & 255 } if (f === 1) { e = o[r.charCodeAt(h)] << 10 | o[r.charCodeAt(h + 1)] << 4 | o[r.charCodeAt(h + 2)] >> 2; i[u++] = e >> 8 & 255; i[u++] = e & 255 } return i } function s(r) { return t[r >> 18 & 63] + t[r >> 12 & 63] + t[r >> 6 & 63] + t[r & 63] } function l(r, e, n) { var t; var o = []; for (var a = e; a < n; a += 3) { t = (r[a] << 16 & 16711680) + (r[a + 1] << 8 & 65280) + (r[a + 2] & 255); o.push(s(t)) } return o.join(\"\") } function p(r) { var e; var n = r.length; var o = n % 3; var a = []; var f = 16383; for (var i = 0, u = n - o; i < u; i += f) { a.push(l(r, i, i + f > u ? u : i + f)) } if (o === 1) { e = r[n - 1]; a.push(t[e >> 2] + t[e << 4 & 63] + \"==\") } else if (o === 2) { e = (r[n - 2] << 8) + r[n - 1]; a.push(t[e >> 10] + t[e >> 4 & 63] + t[e << 2 & 63] + \"=\") } return a.join(\"\") } }, {}] }, {}, [])(\"/\") });\n\n        /**\n         * [promise-polyfill]{@link https://github.com/taylorhakes/promise-polyfill}\n         *\n         * @version v8.1.3\n         * @author Hakes, Taylor\n         * @copyright Hakes, Taylor 2014\n         * @license MIT\n         */\n        !function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?n():\"function\"==typeof define&&define.amd?define(n):n()}(0,function(){\"use strict\";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(e){return!(!e||\"undefined\"==typeof e.length)}function t(){}function o(e){if(!(this instanceof o))throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],c(e,this)}function r(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(r){return void f(n.promise,r)}i(n.promise,o)}else(1===e._state?i:f)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError(\"A promise cannot be resolved with itself.\");if(n&&(\"object\"==typeof n||\"function\"==typeof n)){var t=n.then;if(n instanceof o)return e._state=3,e._value=n,void u(e);if(\"function\"==typeof t)return void c(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,u(e)}catch(r){f(e,r)}}function f(e,n){e._state=2,e._value=n,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;t>n;n++)r(e,e._deferreds[n]);e._deferreds=null}function c(e,n){var t=!1;try{e(function(e){t||(t=!0,i(n,e))},function(e){t||(t=!0,f(n,e))})}catch(o){if(t)return;t=!0,f(n,o)}}var a=setTimeout;o.prototype[\"catch\"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new function(e,n,t){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof n?n:null,this.promise=t}(e,n,o)),o},o.prototype[\"finally\"]=e,o.all=function(e){return new o(function(t,o){function r(e,n){try{if(n&&(\"object\"==typeof n||\"function\"==typeof n)){var u=n.then;if(\"function\"==typeof u)return void u.call(n,function(n){r(e,n)},o)}i[e]=n,0==--f&&t(i)}catch(c){o(c)}}if(!n(e))return o(new TypeError(\"Promise.all accepts an array\"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var f=i.length,u=0;i.length>u;u++)r(u,i[u])})},o.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError(\"Promise.race accepts an array\"));for(var i=0,f=e.length;f>i;i++)o.resolve(e[i]).then(t,r)})},o._immediateFn=\"function\"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)};var l=function(){if(\"undefined\"!=typeof self)return self;if(\"undefined\"!=typeof window)return window;if(\"undefined\"!=typeof global)return global;throw Error(\"unable to locate global object\")}();\"Promise\"in l?l.Promise.prototype[\"finally\"]||(l.Promise.prototype[\"finally\"]=e):l.Promise=o});\n\n        var Keycloak = factory( root[\"sha256\"], root[\"base64js\"] );\n        root[\"Keycloak\"] = Keycloak;\n\n        if ( typeof define === \"function\" && define.amd ) {\n            define( \"keycloak\", [], function () { return Keycloak; } );\n        }\n    }\n})(window, function (sha256_imported, base64js_imported) {\n    if (typeof Promise === 'undefined') {\n        throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n    }\n\n    var loggedPromiseDeprecation = false;\n\n    function logPromiseDeprecation() {\n        if (!loggedPromiseDeprecation) {\n            loggedPromiseDeprecation = true;\n            console.warn('[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.');\n        }\n    }\n\n    function Keycloak (config) {\n        if (!(this instanceof Keycloak)) {\n            return new Keycloak(config);\n        }\n\n        var kc = this;\n        var adapter;\n        var refreshQueue = [];\n        var callbackStorage;\n\n        var loginIframe = {\n            enable: true,\n            callbackList: [],\n            interval: 5\n        };\n\n        var scripts = document.getElementsByTagName('script');\n        for (var i = 0; i < scripts.length; i++) {\n            if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n                kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n            }\n        }\n\n        var useNonce = true;\n        var logInfo = createLogger(console.info);\n        var logWarn = createLogger(console.warn);\n\n        kc.init = function (initOptions) {\n            kc.authenticated = false;\n\n            callbackStorage = createCallbackStorage();\n            var adapters = ['default', 'cordova', 'cordova-native'];\n\n            if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n                adapter = loadAdapter(initOptions.adapter);\n            } else if (initOptions && typeof initOptions.adapter === \"object\") {\n                adapter = initOptions.adapter;\n            } else {\n                if (window.Cordova || window.cordova) {\n                    adapter = loadAdapter('cordova');\n                } else {\n                    adapter = loadAdapter();\n                }\n            }\n\n            if (initOptions) {\n                if (typeof initOptions.useNonce !== 'undefined') {\n                    useNonce = initOptions.useNonce;\n                }\n\n                if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                    loginIframe.enable = initOptions.checkLoginIframe;\n                }\n\n                if (initOptions.checkLoginIframeInterval) {\n                    loginIframe.interval = initOptions.checkLoginIframeInterval;\n                }\n\n                if (initOptions.onLoad === 'login-required') {\n                    kc.loginRequired = true;\n                }\n\n                if (initOptions.responseMode) {\n                    if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                        kc.responseMode = initOptions.responseMode;\n                    } else {\n                        throw 'Invalid value for responseMode';\n                    }\n                }\n\n                if (initOptions.flow) {\n                    switch (initOptions.flow) {\n                        case 'standard':\n                            kc.responseType = 'code';\n                            break;\n                        case 'implicit':\n                            kc.responseType = 'id_token token';\n                            break;\n                        case 'hybrid':\n                            kc.responseType = 'code id_token token';\n                            break;\n                        default:\n                            throw 'Invalid value for flow';\n                    }\n                    kc.flow = initOptions.flow;\n                }\n\n                if (initOptions.timeSkew != null) {\n                    kc.timeSkew = initOptions.timeSkew;\n                }\n\n                if(initOptions.redirectUri) {\n                    kc.redirectUri = initOptions.redirectUri;\n                }\n\n                if (initOptions.silentCheckSsoRedirectUri) {\n                    kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n                }\n\n                if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n                    kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n                } else {\n                    kc.silentCheckSsoFallback = true;\n                }\n\n                if (initOptions.pkceMethod) {\n                    if (initOptions.pkceMethod !== \"S256\") {\n                        throw 'Invalid value for pkceMethod';\n                    }\n                    kc.pkceMethod = initOptions.pkceMethod;\n                }\n\n                if (typeof initOptions.enableLogging === 'boolean') {\n                    kc.enableLogging = initOptions.enableLogging;\n                } else {\n                    kc.enableLogging = false;\n                }\n\n                if (typeof initOptions.scope === 'string') {\n                    kc.scope = initOptions.scope;\n                }\n            }\n\n            if (!kc.responseMode) {\n                kc.responseMode = 'fragment';\n            }\n            if (!kc.responseType) {\n                kc.responseType = 'code';\n                kc.flow = 'standard';\n            }\n\n            var promise = createPromise();\n\n            var initPromise = createPromise();\n            initPromise.promise.then(function() {\n                kc.onReady && kc.onReady(kc.authenticated);\n                promise.setSuccess(kc.authenticated);\n            }).catch(function(errorData) {\n                promise.setError(errorData);\n            });\n\n            var configPromise = loadConfig(config);\n\n            function onLoad() {\n                var doLogin = function(prompt) {\n                    if (!prompt) {\n                        options.prompt = 'none';\n                    }\n\n                    kc.login(options).then(function () {\n                        initPromise.setSuccess();\n                    }).catch(function () {\n                        initPromise.setError();\n                    });\n                }\n\n                var checkSsoSilently = function() {\n                    var ifrm = document.createElement(\"iframe\");\n                    var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                    ifrm.setAttribute(\"src\", src);\n                    ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                    ifrm.style.display = \"none\";\n                    document.body.appendChild(ifrm);\n\n                    var messageCallback = function(event) {\n                        if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                            return;\n                        }\n\n                        var oauth = parseCallback(event.data);\n                        processCallback(oauth, initPromise);\n\n                        document.body.removeChild(ifrm);\n                        window.removeEventListener(\"message\", messageCallback);\n                    };\n\n                    window.addEventListener(\"message\", messageCallback);\n                };\n\n                var options = {};\n                switch (initOptions.onLoad) {\n                    case 'check-sso':\n                        if (loginIframe.enable) {\n                            setupCheckLoginIframe().then(function() {\n                                checkLoginIframe().then(function (unchanged) {\n                                    if (!unchanged) {\n                                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                    } else {\n                                        initPromise.setSuccess();\n                                    }\n                                }).catch(function () {\n                                    initPromise.setError();\n                                });\n                            });\n                        } else {\n                            kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                        }\n                        break;\n                    case 'login-required':\n                        doLogin(true);\n                        break;\n                    default:\n                        throw 'Invalid value for onLoad';\n                }\n            }\n\n            function processInit() {\n                var callback = parseCallback(window.location.href);\n\n                if (callback) {\n                    window.history.replaceState(window.history.state, null, callback.newUrl);\n                }\n\n                if (callback && callback.valid) {\n                    return setupCheckLoginIframe().then(function() {\n                        processCallback(callback, initPromise);\n                    }).catch(function (e) {\n                        initPromise.setError();\n                    });\n                } else if (initOptions) {\n                    if (initOptions.token && initOptions.refreshToken) {\n                        setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                        if (loginIframe.enable) {\n                            setupCheckLoginIframe().then(function() {\n                                checkLoginIframe().then(function (unchanged) {\n                                    if (unchanged) {\n                                        kc.onAuthSuccess && kc.onAuthSuccess();\n                                        initPromise.setSuccess();\n                                        scheduleCheckIframe();\n                                    } else {\n                                        initPromise.setSuccess();\n                                    }\n                                }).catch(function () {\n                                    initPromise.setError();\n                                });\n                            });\n                        } else {\n                            kc.updateToken(-1).then(function() {\n                                kc.onAuthSuccess && kc.onAuthSuccess();\n                                initPromise.setSuccess();\n                            }).catch(function() {\n                                kc.onAuthError && kc.onAuthError();\n                                if (initOptions.onLoad) {\n                                    onLoad();\n                                } else {\n                                    initPromise.setError();\n                                }\n                            });\n                        }\n                    } else if (initOptions.onLoad) {\n                        onLoad();\n                    } else {\n                        initPromise.setSuccess();\n                    }\n                } else {\n                    initPromise.setSuccess();\n                }\n            }\n\n            function domReady() {\n                var promise = createPromise();\n\n                var checkReadyState = function () {\n                    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n                        document.removeEventListener('readystatechange', checkReadyState);\n                        promise.setSuccess();\n                    }\n                }\n                document.addEventListener('readystatechange', checkReadyState);\n\n                checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n                return promise.promise;\n            }\n\n            configPromise.then(function () {\n                domReady().then(check3pCookiesSupported).then(processInit)\n                .catch(function() {\n                    promise.setError();\n                });\n            });\n            configPromise.catch(function() {\n                promise.setError();\n            });\n\n            return promise.promise;\n        }\n\n        kc.login = function (options) {\n            return adapter.login(options);\n        }\n\n        function generateRandomData(len) {\n            // use web crypto APIs if possible\n            var array = null;\n            var crypto = window.crypto || window.msCrypto;\n            if (crypto && crypto.getRandomValues && window.Uint8Array) {\n                array = new Uint8Array(len);\n                crypto.getRandomValues(array);\n                return array;\n            }\n\n            // fallback to Math random\n            array = new Array(len);\n            for (var j = 0; j < array.length; j++) {\n                array[j] = Math.floor(256 * Math.random());\n            }\n            return array;\n        }\n\n        function generateCodeVerifier(len) {\n            return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n        }\n\n        function generateRandomString(len, alphabet){\n            var randomData = generateRandomData(len);\n            var chars = new Array(len);\n            for (var i = 0; i < len; i++) {\n                chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n            }\n            return String.fromCharCode.apply(null, chars);\n        }\n\n        function generatePkceChallenge(pkceMethod, codeVerifier) {\n            switch (pkceMethod) {\n                // The use of the \"plain\" method is considered insecure and therefore not supported.\n                case \"S256\":\n                    // hash codeVerifier, then encode as url-safe base64 without padding\n                    var hashBytes = new Uint8Array(sha256_imported.arrayBuffer(codeVerifier));\n                    var encodedHash = base64js_imported.fromByteArray(hashBytes)\n                        .replace(/\\+/g, '-')\n                        .replace(/\\//g, '_')\n                        .replace(/\\=/g, '');\n                    return encodedHash;\n                default:\n                    throw 'Invalid value for pkceMethod';\n            }\n        }\n\n        kc.createLoginUrl = function(options) {\n            var state = createUUID();\n            var nonce = createUUID();\n\n            var redirectUri = adapter.redirectUri(options);\n\n            var callbackState = {\n                state: state,\n                nonce: nonce,\n                redirectUri: encodeURIComponent(redirectUri)\n            };\n\n            if (options && options.prompt) {\n                callbackState.prompt = options.prompt;\n            }\n\n            var baseUrl;\n            if (options && options.action == 'register') {\n                baseUrl = kc.endpoints.register();\n            } else {\n                baseUrl = kc.endpoints.authorize();\n            }\n\n            var scope = options && options.scope || kc.scope;\n            if (!scope) {\n                // if scope is not set, default to \"openid\"\n                scope = \"openid\";\n            } else if (scope.indexOf(\"openid\") === -1) {\n                // if openid scope is missing, prefix the given scopes with it\n                scope = \"openid \" + scope;\n            }\n\n            var url = baseUrl\n                + '?client_id=' + encodeURIComponent(kc.clientId)\n                + '&redirect_uri=' + encodeURIComponent(redirectUri)\n                + '&state=' + encodeURIComponent(state)\n                + '&response_mode=' + encodeURIComponent(kc.responseMode)\n                + '&response_type=' + encodeURIComponent(kc.responseType)\n                + '&scope=' + encodeURIComponent(scope);\n            if (useNonce) {\n                url = url + '&nonce=' + encodeURIComponent(nonce);\n            }\n\n            if (options && options.prompt) {\n                url += '&prompt=' + encodeURIComponent(options.prompt);\n            }\n\n            if (options && options.maxAge) {\n                url += '&max_age=' + encodeURIComponent(options.maxAge);\n            }\n\n            if (options && options.loginHint) {\n                url += '&login_hint=' + encodeURIComponent(options.loginHint);\n            }\n\n            if (options && options.idpHint) {\n                url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n            }\n\n            if (options && options.action && options.action != 'register') {\n                url += '&kc_action=' + encodeURIComponent(options.action);\n            }\n\n            if (options && options.locale) {\n                url += '&ui_locales=' + encodeURIComponent(options.locale);\n            }\n\n            if (kc.pkceMethod) {\n                var codeVerifier = generateCodeVerifier(96);\n                callbackState.pkceCodeVerifier = codeVerifier;\n                var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n                url += '&code_challenge=' + pkceChallenge;\n                url += '&code_challenge_method=' + kc.pkceMethod;\n            }\n\n            callbackStorage.add(callbackState);\n\n            return url;\n        }\n\n        kc.logout = function(options) {\n            return adapter.logout(options);\n        }\n\n        kc.createLogoutUrl = function(options) {\n            var url = kc.endpoints.logout()\n                + '?redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n            return url;\n        }\n\n        kc.register = function (options) {\n            return adapter.register(options);\n        }\n\n        kc.createRegisterUrl = function(options) {\n            if (!options) {\n                options = {};\n            }\n            options.action = 'register';\n            return kc.createLoginUrl(options);\n        }\n\n        kc.createAccountUrl = function(options) {\n            var realm = getRealmUrl();\n            var url = undefined;\n            if (typeof realm !== 'undefined') {\n                url = realm\n                + '/account'\n                + '?referrer=' + encodeURIComponent(kc.clientId)\n                + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n            }\n            return url;\n        }\n\n        kc.accountManagement = function() {\n            return adapter.accountManagement();\n        }\n\n        kc.hasRealmRole = function (role) {\n            var access = kc.realmAccess;\n            return !!access && access.roles.indexOf(role) >= 0;\n        }\n\n        kc.hasResourceRole = function(role, resource) {\n            if (!kc.resourceAccess) {\n                return false;\n            }\n\n            var access = kc.resourceAccess[resource || kc.clientId];\n            return !!access && access.roles.indexOf(role) >= 0;\n        }\n\n        kc.loadUserProfile = function() {\n            var url = getRealmUrl() + '/account';\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            req.setRequestHeader('Accept', 'application/json');\n            req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n            var promise = createPromise();\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n                        kc.profile = JSON.parse(req.responseText);\n                        promise.setSuccess(kc.profile);\n                    } else {\n                        promise.setError();\n                    }\n                }\n            }\n\n            req.send();\n\n            return promise.promise;\n        }\n\n        kc.loadUserInfo = function() {\n            var url = kc.endpoints.userinfo();\n            var req = new XMLHttpRequest();\n            req.open('GET', url, true);\n            req.setRequestHeader('Accept', 'application/json');\n            req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n            var promise = createPromise();\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n                        kc.userInfo = JSON.parse(req.responseText);\n                        promise.setSuccess(kc.userInfo);\n                    } else {\n                        promise.setError();\n                    }\n                }\n            }\n\n            req.send();\n\n            return promise.promise;\n        }\n\n        kc.isTokenExpired = function(minValidity) {\n            if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n                throw 'Not authenticated';\n            }\n\n            if (kc.timeSkew == null) {\n                logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n                return true;\n            }\n\n            var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n            if (minValidity) {\n                if (isNaN(minValidity)) {\n                    throw 'Invalid minValidity';\n                }\n                expiresIn -= minValidity;\n            }\n            return expiresIn < 0;\n        }\n\n        kc.updateToken = function(minValidity) {\n            var promise = createPromise();\n\n            if (!kc.refreshToken) {\n                promise.setError();\n                return promise.promise;\n            }\n\n            minValidity = minValidity || 5;\n\n            var exec = function() {\n                var refreshToken = false;\n                if (minValidity == -1) {\n                    refreshToken = true;\n                    logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n                } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                    refreshToken = true;\n                    logInfo('[KEYCLOAK] Refreshing token: token expired');\n                }\n\n                if (!refreshToken) {\n                    promise.setSuccess(false);\n                } else {\n                    var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                    var url = kc.endpoints.token();\n\n                    refreshQueue.push(promise);\n\n                    if (refreshQueue.length == 1) {\n                        var req = new XMLHttpRequest();\n                        req.open('POST', url, true);\n                        req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                        req.withCredentials = true;\n\n                        params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                        var timeLocal = new Date().getTime();\n\n                        req.onreadystatechange = function () {\n                            if (req.readyState == 4) {\n                                if (req.status == 200) {\n                                    logInfo('[KEYCLOAK] Token refreshed');\n\n                                    timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                    var tokenResponse = JSON.parse(req.responseText);\n\n                                    setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                    kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                    for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                        p.setSuccess(true);\n                                    }\n                                } else {\n                                    logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                    if (req.status == 400) {\n                                        kc.clearToken();\n                                    }\n\n                                    kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                    for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                        p.setError(true);\n                                    }\n                                }\n                            }\n                        };\n\n                        req.send(params);\n                    }\n                }\n            }\n\n            if (loginIframe.enable) {\n                var iframePromise = checkLoginIframe();\n                iframePromise.then(function() {\n                    exec();\n                }).catch(function() {\n                    promise.setError();\n                });\n            } else {\n                exec();\n            }\n\n            return promise.promise;\n        }\n\n        kc.clearToken = function() {\n            if (kc.token) {\n                setToken(null, null, null);\n                kc.onAuthLogout && kc.onAuthLogout();\n                if (kc.loginRequired) {\n                    kc.login();\n                }\n            }\n        }\n\n        function getRealmUrl() {\n            if (typeof kc.authServerUrl !== 'undefined') {\n                if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                    return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n                } else {\n                    return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n                }\n            } else {\n            \treturn undefined;\n            }\n        }\n\n        function getOrigin() {\n            if (!window.location.origin) {\n                return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n            } else {\n                return window.location.origin;\n            }\n        }\n\n        function processCallback(oauth, promise) {\n            var code = oauth.code;\n            var error = oauth.error;\n            var prompt = oauth.prompt;\n\n            var timeLocal = new Date().getTime();\n\n            if (oauth['kc_action_status']) {\n                kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n            }\n\n            if (error) {\n                if (prompt != 'none') {\n                    var errorData = { error: error, error_description: oauth.error_description };\n                    kc.onAuthError && kc.onAuthError(errorData);\n                    promise && promise.setError(errorData);\n                } else {\n                    promise && promise.setSuccess();\n                }\n                return;\n            } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n                authSuccess(oauth.access_token, null, oauth.id_token, true);\n            }\n\n            if ((kc.flow != 'implicit') && code) {\n                var params = 'code=' + code + '&grant_type=authorization_code';\n                var url = kc.endpoints.token();\n\n                var req = new XMLHttpRequest();\n                req.open('POST', url, true);\n                req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n                params += '&client_id=' + encodeURIComponent(kc.clientId);\n                params += '&redirect_uri=' + oauth.redirectUri;\n\n                if (oauth.pkceCodeVerifier) {\n                    params += '&code_verifier=' + oauth.pkceCodeVerifier;\n                }\n\n                req.withCredentials = true;\n\n                req.onreadystatechange = function() {\n                    if (req.readyState == 4) {\n                        if (req.status == 200) {\n\n                            var tokenResponse = JSON.parse(req.responseText);\n                            authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                            scheduleCheckIframe();\n                        } else {\n                            kc.onAuthError && kc.onAuthError();\n                            promise && promise.setError();\n                        }\n                    }\n                };\n\n                req.send(params);\n            }\n\n            function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                setToken(accessToken, refreshToken, idToken, timeLocal);\n\n                if (useNonce && ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n                    (kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n                    (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))) {\n\n                    logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                    kc.clearToken();\n                    promise && promise.setError();\n                } else {\n                    if (fulfillPromise) {\n                        kc.onAuthSuccess && kc.onAuthSuccess();\n                        promise && promise.setSuccess();\n                    }\n                }\n            }\n\n        }\n\n        function loadConfig(url) {\n            var promise = createPromise();\n            var configUrl;\n\n            if (!config) {\n                configUrl = 'keycloak.json';\n            } else if (typeof config === 'string') {\n                configUrl = config;\n            }\n\n            function setupOidcEndoints(oidcConfiguration) {\n                if (! oidcConfiguration) {\n                    kc.endpoints = {\n                        authorize: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/auth';\n                        },\n                        token: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/token';\n                        },\n                        logout: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/logout';\n                        },\n                        checkSessionIframe: function() {\n                            var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                            if (kc.iframeVersion) {\n                              src = src + '?version=' + kc.iframeVersion;\n                            }\n                            return src;\n                        },\n                        thirdPartyCookiesIframe: function() {\n                            var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                            if (kc.iframeVersion) {\n                                src = src + '?version=' + kc.iframeVersion;\n                            }\n                            return src;\n                        },\n                        register: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/registrations';\n                        },\n                        userinfo: function() {\n                            return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                        }\n                    };\n                } else {\n                    kc.endpoints = {\n                        authorize: function() {\n                            return oidcConfiguration.authorization_endpoint;\n                        },\n                        token: function() {\n                            return oidcConfiguration.token_endpoint;\n                        },\n                        logout: function() {\n                            if (!oidcConfiguration.end_session_endpoint) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.end_session_endpoint;\n                        },\n                        checkSessionIframe: function() {\n                            if (!oidcConfiguration.check_session_iframe) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.check_session_iframe;\n                        },\n                        register: function() {\n                            throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                        },\n                        userinfo: function() {\n                            if (!oidcConfiguration.userinfo_endpoint) {\n                                throw \"Not supported by the OIDC server\";\n                            }\n                            return oidcConfiguration.userinfo_endpoint;\n                        }\n                    }\n                }\n            }\n\n            if (configUrl) {\n                var req = new XMLHttpRequest();\n                req.open('GET', configUrl, true);\n                req.setRequestHeader('Accept', 'application/json');\n\n                req.onreadystatechange = function () {\n                    if (req.readyState == 4) {\n                        if (req.status == 200 || fileLoaded(req)) {\n                            var config = JSON.parse(req.responseText);\n\n                            kc.authServerUrl = config['auth-server-url'];\n                            kc.realm = config['realm'];\n                            kc.clientId = config['resource'];\n                            setupOidcEndoints(null);\n                            promise.setSuccess();\n                        } else {\n                            promise.setError();\n                        }\n                    }\n                };\n\n                req.send();\n            } else {\n                if (!config.clientId) {\n                    throw 'clientId missing';\n                }\n\n                kc.clientId = config.clientId;\n\n                var oidcProvider = config['oidcProvider'];\n                if (!oidcProvider) {\n                    if (!config['url']) {\n                        var scripts = document.getElementsByTagName('script');\n                        for (var i = 0; i < scripts.length; i++) {\n                            if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                                config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                                break;\n                            }\n                        }\n                    }\n                    if (!config.realm) {\n                        throw 'realm missing';\n                    }\n\n                    kc.authServerUrl = config.url;\n                    kc.realm = config.realm;\n                    setupOidcEndoints(null);\n                    promise.setSuccess();\n                } else {\n                    if (typeof oidcProvider === 'string') {\n                        var oidcProviderConfigUrl;\n                        if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                            oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                        } else {\n                            oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                        }\n                        var req = new XMLHttpRequest();\n                        req.open('GET', oidcProviderConfigUrl, true);\n                        req.setRequestHeader('Accept', 'application/json');\n\n                        req.onreadystatechange = function () {\n                            if (req.readyState == 4) {\n                                if (req.status == 200 || fileLoaded(req)) {\n                                    var oidcProviderConfig = JSON.parse(req.responseText);\n                                    setupOidcEndoints(oidcProviderConfig);\n                                    promise.setSuccess();\n                                } else {\n                                    promise.setError();\n                                }\n                            }\n                        };\n\n                        req.send();\n                    } else {\n                        setupOidcEndoints(oidcProvider);\n                        promise.setSuccess();\n                    }\n                }\n            }\n\n            return promise.promise;\n        }\n\n        function fileLoaded(xhr) {\n            return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n        }\n\n        function setToken(token, refreshToken, idToken, timeLocal) {\n            if (kc.tokenTimeoutHandle) {\n                clearTimeout(kc.tokenTimeoutHandle);\n                kc.tokenTimeoutHandle = null;\n            }\n\n            if (refreshToken) {\n                kc.refreshToken = refreshToken;\n                kc.refreshTokenParsed = decodeToken(refreshToken);\n            } else {\n                delete kc.refreshToken;\n                delete kc.refreshTokenParsed;\n            }\n\n            if (idToken) {\n                kc.idToken = idToken;\n                kc.idTokenParsed = decodeToken(idToken);\n            } else {\n                delete kc.idToken;\n                delete kc.idTokenParsed;\n            }\n\n            if (token) {\n                kc.token = token;\n                kc.tokenParsed = decodeToken(token);\n                kc.sessionId = kc.tokenParsed.session_state;\n                kc.authenticated = true;\n                kc.subject = kc.tokenParsed.sub;\n                kc.realmAccess = kc.tokenParsed.realm_access;\n                kc.resourceAccess = kc.tokenParsed.resource_access;\n\n                if (timeLocal) {\n                    kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n                }\n\n                if (kc.timeSkew != null) {\n                    logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                    if (kc.onTokenExpired) {\n                        var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                        logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                        if (expiresIn <= 0) {\n                            kc.onTokenExpired();\n                        } else {\n                            kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                        }\n                    }\n                }\n            } else {\n                delete kc.token;\n                delete kc.tokenParsed;\n                delete kc.subject;\n                delete kc.realmAccess;\n                delete kc.resourceAccess;\n\n                kc.authenticated = false;\n            }\n        }\n\n        function decodeToken(str) {\n            str = str.split('.')[1];\n\n            str = str.replace(/-/g, '+');\n            str = str.replace(/_/g, '/');\n            switch (str.length % 4) {\n                case 0:\n                    break;\n                case 2:\n                    str += '==';\n                    break;\n                case 3:\n                    str += '=';\n                    break;\n                default:\n                    throw 'Invalid token';\n            }\n\n            str = decodeURIComponent(escape(atob(str)));\n\n            str = JSON.parse(str);\n            return str;\n        }\n\n        function createUUID() {\n            var hexDigits = '0123456789abcdef';\n            var s = generateRandomString(36, hexDigits).split(\"\");\n            s[14] = '4';\n            s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n            s[8] = s[13] = s[18] = s[23] = '-';\n            var uuid = s.join('');\n            return uuid;\n        }\n\n        function parseCallback(url) {\n            var oauth = parseCallbackUrl(url);\n            if (!oauth) {\n                return;\n            }\n\n            var oauthState = callbackStorage.get(oauth.state);\n\n            if (oauthState) {\n                oauth.valid = true;\n                oauth.redirectUri = oauthState.redirectUri;\n                oauth.storedNonce = oauthState.nonce;\n                oauth.prompt = oauthState.prompt;\n                oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n            }\n\n            return oauth;\n        }\n\n        function parseCallbackUrl(url) {\n            var supportedParams;\n            switch (kc.flow) {\n                case 'standard':\n                    supportedParams = ['code', 'state', 'session_state', 'kc_action_status'];\n                    break;\n                case 'implicit':\n                    supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                    break;\n                case 'hybrid':\n                    supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                    break;\n            }\n\n            supportedParams.push('error');\n            supportedParams.push('error_description');\n            supportedParams.push('error_uri');\n\n            var queryIndex = url.indexOf('?');\n            var fragmentIndex = url.indexOf('#');\n\n            var newUrl;\n            var parsed;\n\n            if (kc.responseMode === 'query' && queryIndex !== -1) {\n                newUrl = url.substring(0, queryIndex);\n                parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n                if (parsed.paramsString !== '') {\n                    newUrl += '?' + parsed.paramsString;\n                }\n                if (fragmentIndex !== -1) {\n                    newUrl += url.substring(fragmentIndex);\n                }\n            } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n                newUrl = url.substring(0, fragmentIndex);\n                parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n                if (parsed.paramsString !== '') {\n                    newUrl += '#' + parsed.paramsString;\n                }\n            }\n\n            if (parsed && parsed.oauthParams) {\n                if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                    if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                        parsed.oauthParams.newUrl = newUrl;\n                        return parsed.oauthParams;\n                    }\n                } else if (kc.flow === 'implicit') {\n                    if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                        parsed.oauthParams.newUrl = newUrl;\n                        return parsed.oauthParams;\n                    }\n                }\n            }\n        }\n\n        function parseCallbackParams(paramsString, supportedParams) {\n            var p = paramsString.split('&');\n            var result = {\n                paramsString: '',\n                oauthParams: {}\n            }\n            for (var i = 0; i < p.length; i++) {\n                var split = p[i].indexOf(\"=\");\n                var key = p[i].slice(0, split);\n                if (supportedParams.indexOf(key) !== -1) {\n                    result.oauthParams[key] = p[i].slice(split + 1);\n                } else {\n                    if (result.paramsString !== '') {\n                        result.paramsString += '&';\n                    }\n                    result.paramsString += p[i];\n                }\n            }\n            return result;\n        }\n\n        function createPromise() {\n            // Need to create a native Promise which also preserves the\n            // interface of the custom promise type previously used by the API\n            var p = {\n                setSuccess: function(result) {\n                    p.resolve(result);\n                },\n\n                setError: function(result) {\n                    p.reject(result);\n                }\n            };\n            p.promise = new Promise(function(resolve, reject) {\n                p.resolve = resolve;\n                p.reject = reject;\n            });\n\n            p.promise.success = function(callback) {\n                logPromiseDeprecation();\n\n                this.then(function handleSuccess(value) {\n                    callback(value);\n                });\n\n                return this;\n            }\n\n            p.promise.error = function(callback) {\n                logPromiseDeprecation();\n\n                this.catch(function handleError(error) {\n                    callback(error);\n                });\n\n                return this;\n            }\n\n            return p;\n        }\n\n\n        function setupCheckLoginIframe() {\n            var promise = createPromise();\n\n            if (!loginIframe.enable) {\n                promise.setSuccess();\n                return promise.promise;\n            }\n\n            if (loginIframe.iframe) {\n                promise.setSuccess();\n                return promise.promise;\n            }\n\n            var iframe = document.createElement('iframe');\n            loginIframe.iframe = iframe;\n\n            iframe.onload = function() {\n                var authUrl = kc.endpoints.authorize();\n                if (authUrl.charAt(0) === '/') {\n                    loginIframe.iframeOrigin = getOrigin();\n                } else {\n                    loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n                }\n                promise.setSuccess();\n            }\n\n            var src = kc.endpoints.checkSessionIframe();\n            iframe.setAttribute('src', src );\n            iframe.setAttribute('title', 'keycloak-session-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                    return;\n                }\n\n                if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                    return;\n                }\n\n\n                if (event.data != 'unchanged') {\n                    kc.clearToken();\n                }\n\n                var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n                for (var i = callbacks.length - 1; i >= 0; --i) {\n                    var promise = callbacks[i];\n                    if (event.data == 'error') {\n                        promise.setError();\n                    } else {\n                        promise.setSuccess(event.data == 'unchanged');\n                    }\n                }\n            };\n\n            window.addEventListener('message', messageCallback, false);\n\n            return promise.promise;\n        }\n\n        function scheduleCheckIframe() {\n            if (loginIframe.enable) {\n                if (kc.token) {\n                    setTimeout(function() {\n                        checkLoginIframe().then(function(unchanged) {\n                            if (unchanged) {\n                                scheduleCheckIframe();\n                            }\n                        });\n                    }, loginIframe.interval * 1000);\n                }\n            }\n        }\n\n        function checkLoginIframe() {\n            var promise = createPromise();\n\n            if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n                var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n                loginIframe.callbackList.push(promise);\n                var origin = loginIframe.iframeOrigin;\n                if (loginIframe.callbackList.length == 1) {\n                    loginIframe.iframe.contentWindow.postMessage(msg, origin);\n                }\n            } else {\n                promise.setSuccess();\n            }\n\n            return promise.promise;\n        }\n\n        function check3pCookiesSupported() {\n            var promise = createPromise();\n\n            if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n                var iframe = document.createElement('iframe');\n                iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n                iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n                iframe.style.display = 'none';\n                document.body.appendChild(iframe);\n\n                var messageCallback = function(event) {\n                    if (iframe.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                        return;\n                    } else if (event.data === \"unsupported\") {\n                        loginIframe.enable = false;\n                        if (kc.silentCheckSsoFallback) {\n                            kc.silentCheckSsoRedirectUri = false;\n                        }\n                        logWarn(\"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" +\n                            \"silent check-sso are not available.\")\n                    }\n\n                    document.body.removeChild(iframe);\n                    window.removeEventListener(\"message\", messageCallback);\n                    promise.setSuccess();\n                };\n\n                window.addEventListener('message', messageCallback, false);\n            } else {\n                promise.setSuccess();\n            }\n\n            return promise.promise;\n        }\n\n        function loadAdapter(type) {\n            if (!type || type == 'default') {\n                return {\n                    login: function(options) {\n                        window.location.replace(kc.createLoginUrl(options));\n                        return createPromise().promise;\n                    },\n\n                    logout: function(options) {\n                        window.location.replace(kc.createLogoutUrl(options));\n                        return createPromise().promise;\n                    },\n\n                    register: function(options) {\n                        window.location.replace(kc.createRegisterUrl(options));\n                        return createPromise().promise;\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            window.location.href = accountUrl;\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return createPromise().promise;\n                    },\n\n                    redirectUri: function(options, encodeHash) {\n                        if (arguments.length == 1) {\n                            encodeHash = true;\n                        }\n\n                        if (options && options.redirectUri) {\n                            return options.redirectUri;\n                        } else if (kc.redirectUri) {\n                            return kc.redirectUri;\n                        } else {\n                            return location.href;\n                        }\n                    }\n                };\n            }\n\n            if (type == 'cordova') {\n                loginIframe.enable = false;\n                var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                    if (window.cordova && window.cordova.InAppBrowser) {\n                        // Use inappbrowser for IOS and Android if available\n                        return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                    } else {\n                        return window.open(loginUrl, target, options);\n                    }\n                };\n\n                var shallowCloneCordovaOptions = function (userOptions) {\n                    if (userOptions && userOptions.cordovaOptions) {\n                        return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                            options[optionName] = userOptions.cordovaOptions[optionName];\n                            return options;\n                        }, {});\n                    } else {\n                        return {};\n                    }\n                };\n\n                var formatCordovaOptions = function (cordovaOptions) {\n                    return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                        options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                        return options;\n                    }, []).join(\",\");\n                };\n\n                var createCordovaOptions = function (userOptions) {\n                    var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                    cordovaOptions.location = 'no';\n                    if (userOptions && userOptions.prompt == 'none') {\n                        cordovaOptions.hidden = 'yes';\n                    }\n                    return formatCordovaOptions(cordovaOptions);\n                };\n\n                return {\n                    login: function(options) {\n                        var promise = createPromise();\n\n                        var cordovaOptions = createCordovaOptions(options);\n                        var loginUrl = kc.createLoginUrl(options);\n                        var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                        var completed = false;\n\n                        var closed = false;\n                        var closeBrowser = function() {\n                            closed = true;\n                            ref.close();\n                        };\n\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            }\n                        });\n\n                        ref.addEventListener('loaderror', function(event) {\n                            if (!completed) {\n                                if (event.url.indexOf('http://localhost') == 0) {\n                                    var callback = parseCallback(event.url);\n                                    processCallback(callback, promise);\n                                    closeBrowser();\n                                    completed = true;\n                                } else {\n                                    promise.setError();\n                                    closeBrowser();\n                                }\n                            }\n                        });\n\n                        ref.addEventListener('exit', function(event) {\n                            if (!closed) {\n                                promise.setError({\n                                    reason: \"closed_by_user\"\n                                });\n                            }\n                        });\n\n                        return promise.promise;\n                    },\n\n                    logout: function(options) {\n                        var promise = createPromise();\n\n                        var logoutUrl = kc.createLogoutUrl(options);\n                        var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes');\n\n                        var error;\n\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            }\n                        });\n\n                        ref.addEventListener('loaderror', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                            } else {\n                                error = true;\n                                ref.close();\n                            }\n                        });\n\n                        ref.addEventListener('exit', function(event) {\n                            if (error) {\n                                promise.setError();\n                            } else {\n                                kc.clearToken();\n                                promise.setSuccess();\n                            }\n                        });\n\n                        return promise.promise;\n                    },\n\n                    register : function(options) {\n                        var promise = createPromise();\n                        var registerUrl = kc.createRegisterUrl();\n                        var cordovaOptions = createCordovaOptions(options);\n                        var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf('http://localhost') == 0) {\n                                ref.close();\n                                var oauth = parseCallback(event.url);\n                                processCallback(oauth, promise);\n                            }\n                        });\n                        return promise.promise;\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                            ref.addEventListener('loadstart', function(event) {\n                                if (event.url.indexOf('http://localhost') == 0) {\n                                    ref.close();\n                                }\n                            });\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                    },\n\n                    redirectUri: function(options) {\n                        return 'http://localhost';\n                    }\n                }\n            }\n\n            if (type == 'cordova-native') {\n                loginIframe.enable = false;\n\n                return {\n                    login: function(options) {\n                        var promise = createPromise();\n                        var loginUrl = kc.createLoginUrl(options);\n\n                        universalLinks.subscribe('keycloak', function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        });\n\n                        window.cordova.plugins.browsertab.openUrl(loginUrl);\n                        return promise.promise;\n                    },\n\n                    logout: function(options) {\n                        var promise = createPromise();\n                        var logoutUrl = kc.createLogoutUrl(options);\n\n                        universalLinks.subscribe('keycloak', function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            kc.clearToken();\n                            promise.setSuccess();\n                        });\n\n                        window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                        return promise.promise;\n                    },\n\n                    register : function(options) {\n                        var promise = createPromise();\n                        var registerUrl = kc.createRegisterUrl(options);\n                        universalLinks.subscribe('keycloak' , function(event) {\n                            universalLinks.unsubscribe('keycloak');\n                            window.cordova.plugins.browsertab.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        });\n                        window.cordova.plugins.browsertab.openUrl(registerUrl);\n                        return promise.promise;\n\n                    },\n\n                    accountManagement : function() {\n                        var accountUrl = kc.createAccountUrl();\n                        if (typeof accountUrl !== 'undefined') {\n                            window.cordova.plugins.browsertab.openUrl(accountUrl);\n                        } else {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                    },\n\n                    redirectUri: function(options) {\n                        if (options && options.redirectUri) {\n                            return options.redirectUri;\n                        } else if (kc.redirectUri) {\n                            return kc.redirectUri;\n                        } else {\n                            return \"http://localhost\";\n                        }\n                    }\n                }\n            }\n\n            throw 'invalid adapter type: ' + type;\n        }\n\n        var LocalStorage = function() {\n            if (!(this instanceof LocalStorage)) {\n                return new LocalStorage();\n            }\n\n            localStorage.setItem('kc-test', 'test');\n            localStorage.removeItem('kc-test');\n\n            var cs = this;\n\n            function clearExpired() {\n                var time = new Date().getTime();\n                for (var i = 0; i < localStorage.length; i++)  {\n                    var key = localStorage.key(i);\n                    if (key && key.indexOf('kc-callback-') == 0) {\n                        var value = localStorage.getItem(key);\n                        if (value) {\n                            try {\n                                var expires = JSON.parse(value).expires;\n                                if (!expires || expires < time) {\n                                    localStorage.removeItem(key);\n                                }\n                            } catch (err) {\n                                localStorage.removeItem(key);\n                            }\n                        }\n                    }\n                }\n            }\n\n            cs.get = function(state) {\n                if (!state) {\n                    return;\n                }\n\n                var key = 'kc-callback-' + state;\n                var value = localStorage.getItem(key);\n                if (value) {\n                    localStorage.removeItem(key);\n                    value = JSON.parse(value);\n                }\n\n                clearExpired();\n                return value;\n            };\n\n            cs.add = function(state) {\n                clearExpired();\n\n                var key = 'kc-callback-' + state.state;\n                state.expires = new Date().getTime() + (60 * 60 * 1000);\n                localStorage.setItem(key, JSON.stringify(state));\n            };\n        };\n\n        var CookieStorage = function() {\n            if (!(this instanceof CookieStorage)) {\n                return new CookieStorage();\n            }\n\n            var cs = this;\n\n            cs.get = function(state) {\n                if (!state) {\n                    return;\n                }\n\n                var value = getCookie('kc-callback-' + state);\n                setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n                if (value) {\n                    return JSON.parse(value);\n                }\n            };\n\n            cs.add = function(state) {\n                setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n            };\n\n            cs.removeItem = function(key) {\n                setCookie(key, '', cookieExpiration(-100));\n            };\n\n            var cookieExpiration = function (minutes) {\n                var exp = new Date();\n                exp.setTime(exp.getTime() + (minutes*60*1000));\n                return exp;\n            };\n\n            var getCookie = function (key) {\n                var name = key + '=';\n                var ca = document.cookie.split(';');\n                for (var i = 0; i < ca.length; i++) {\n                    var c = ca[i];\n                    while (c.charAt(0) == ' ') {\n                        c = c.substring(1);\n                    }\n                    if (c.indexOf(name) == 0) {\n                        return c.substring(name.length, c.length);\n                    }\n                }\n                return '';\n            };\n\n            var setCookie = function (key, value, expirationDate) {\n                var cookie = key + '=' + value + '; '\n                    + 'expires=' + expirationDate.toUTCString() + '; ';\n                document.cookie = cookie;\n            }\n        };\n\n        function createCallbackStorage() {\n            try {\n                return new LocalStorage();\n            } catch (err) {\n            }\n\n            return new CookieStorage();\n        }\n\n        function createLogger(fn) {\n            return function() {\n                if (kc.enableLogging) {\n                    fn.apply(console, Array.prototype.slice.call(arguments));\n                }\n            };\n        }\n    }\n\n    return Keycloak;\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}